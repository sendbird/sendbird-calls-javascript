/**
 * Copyright (c) 2016 SendBird DBA (Smile Family, Inc.)
 * SendBird Call JavaScript SDK v0.9.4
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SendBirdCall=e()}(this,function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){return t&&t.Math==Math&&t}function g(t){try{return!!t()}catch(t){return!0}}function d(t){return o.call(t).slice(8,-1)}function f(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function c(t){return w(f(t))}function l(t,e){if(!L(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!L(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!L(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!L(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function r(t){return y?v.createElement(t):{}}function h(e,n){try{N(C,e,n)}catch(t){C[e]=n}return n}var C=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")(),O=!g(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,p={f:a&&!i.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:i},M=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},o={}.toString,s="".split,w=g(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==d(t)?s.call(t,""):Object(t)}:Object,L=function(t){return"object"==typeof t?null!==t:"function"==typeof t},u={}.hasOwnProperty,j=function(t,e){return u.call(t,e)},v=C.document,y=L(v)&&L(v.createElement),m=!O&&!g(function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}),_=Object.getOwnPropertyDescriptor,D={f:O?_:function(t,e){if(t=c(t),e=l(e,!0),m)try{return _(t,e)}catch(t){}if(j(t,e))return M(!p.f.call(t,e),t[e])}},E=function(t){if(!L(t))throw TypeError(String(t)+" is not an object");return t},b=Object.defineProperty,z={f:O?b:function(t,e,n){if(E(t),e=l(e,!0),E(n),m)try{return b(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},N=O?function(t,e,n){return z.f(t,e,M(1,n))}:function(t,e,n){return t[e]=n,t},k="__core-js_shared__",S=C[k]||h(k,{}),x=Function.toString;"function"!=typeof S.inspectSource&&(S.inspectSource=function(t){return x.call(t)});function A(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++W+K).toString(36)}function I(t){return Z[t]||(Z[t]=A(t))}var R,T,P,F=S.inspectSource,B=C.WeakMap,U="function"==typeof B&&/native code/.test(F(B)),V=!1,q=e(function(t){(t.exports=function(t,e){return S[t]||(S[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.0",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),W=0,K=Math.random(),Z=q("keys"),G={},Y=C.WeakMap;if(U){var H=new Y,$=H.get,Q=H.has,J=H.set;R=function(t,e){return J.call(H,t,e),e},T=function(t){return $.call(H,t)||{}},P=function(t){return Q.call(H,t)}}else{var X=I("state");G[X]=!0,R=function(t,e){return N(t,X,e),e},T=function(t){return j(t,X)?t[X]:{}},P=function(t){return j(t,X)}}function tt(t){return"function"==typeof t?t:void 0}function et(t,e){return arguments.length<2?tt(gt[t])||tt(C[t]):gt[t]&&gt[t][e]||C[t]&&C[t][e]}function nt(t){return isNaN(t=+t)?0:(0<t?mt:yt)(t)}function rt(t){return 0<t?_t(nt(t),9007199254740991):0}function it(t,e){var n=nt(t);return n<0?wt(n+e,0):bt(n,e)}function at(s){return function(t,e,n){var r,i=c(t),a=rt(i.length),o=it(n,a);if(s&&e!=e){for(;o<a;)if((r=i[o++])!=r)return!0}else for(;o<a;o++)if((s||o in i)&&i[o]===e)return s||o||0;return!s&&-1}}function ot(t,e){var n,r=c(t),i=0,a=[];for(n in r)!j(G,n)&&j(r,n)&&a.push(n);for(;e.length>i;)j(r,n=e[i++])&&(~St(a,n)||a.push(n));return a}function st(t,e){for(var n=Rt(e),r=z.f,i=D.f,a=0;a<n.length;a++){var o=n[a];j(t,o)||r(t,o,i(e,o))}}function ut(t,e){var n=Ot[Ct(t)];return n==Lt||n!=Mt&&("function"==typeof e?g(e):!!e)}function ct(t,e){var n,r,i,a,o,s=t.target,u=t.global,c=t.stat;if(n=u?C:c?C[s]||h(s,{}):(C[s]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(o=Dt(n,r))&&o.value:n[r],!jt(u?r:s+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;st(a,i)}(t.sham||i&&i.sham)&&N(a,"sham",!0),vt(n,r,a,t)}}function lt(t){return Object(f(t))}function ft(){}function ht(t){return"<script>"+t+"</"+qt+">"}var dt,pt={set:R,get:T,has:P,enforce:function(t){return P(t)?T(t):R(t,{})},getterFor:function(n){return function(t){var e;if(!L(t)||(e=T(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},vt=e(function(t){var e=pt.get,s=pt.enforce,u=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,o=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||j(n,"name")||N(n,"name",e),s(n).source=u.join("string"==typeof e?e:"")),t!==C?(i?!o&&t[e]&&(a=!0):delete t[e],a?t[e]=n:N(t,e,n)):a?t[e]=n:h(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||F(this)})}),gt=C,yt=Math.ceil,mt=Math.floor,_t=Math.min,wt=Math.max,bt=Math.min,kt={includes:at(!0),indexOf:at(!1)},St=kt.indexOf,xt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Et=xt.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(t){return ot(t,Et)}},It={f:Object.getOwnPropertySymbols},Rt=et("Reflect","ownKeys")||function(t){var e=At.f(E(t)),n=It.f;return n?e.concat(n(t)):e},Tt=/#|\.prototype\./,Ct=ut.normalize=function(t){return String(t).replace(Tt,".").toLowerCase()},Ot=ut.data={},Mt=ut.NATIVE="N",Lt=ut.POLYFILL="P",jt=ut,Dt=D.f,zt=!!Object.getOwnPropertySymbols&&!g(function(){return!String(Symbol())}),Nt=zt&&!Symbol.sham&&"symbol"==typeof Symbol(),Pt=Array.isArray||function(t){return"Array"==d(t)},Ft=Object.keys||function(t){return ot(t,xt)},Bt=O?Object.defineProperties:function(t,e){E(t);for(var n,r=Ft(e),i=r.length,a=0;a<i;)z.f(t,n=r[a++],e[n]);return t},Ut=et("document","documentElement"),Vt="prototype",qt="script",Wt=I("IE_PROTO"),Kt=function(){try{dt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Kt=dt?function(t){t.write(ht("")),t.close();var e=t.parentWindow.Object;return t=null,e}(dt):((e=r("iframe")).style.display="none",Ut.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ht("document.F=Object")),t.close(),t.F);for(var n=xt.length;n--;)delete Kt[Vt][xt[n]];return Kt()};G[Wt]=!0;function Zt(t){return j(ue,t)||(zt&&j(ce,t)?ue[t]=ce[t]:ue[t]=le("Symbol."+t)),ue[t]}function Gt(t){var e=gt.Symbol||(gt.Symbol={});j(e,t)||he(e,t,{value:fe.f(t)})}function Yt(t,e,n){t&&!j(t=n?t:t.prototype,pe)&&de(t,pe,{configurable:!0,value:e})}function Ht(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function $t(r,i,t){if(Ht(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}function Qt(t,e){var n;return Pt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Pt(n.prototype)?L(n)&&null===(n=n[ve])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Jt(d){var p=1==d,v=2==d,g=3==d,y=4==d,m=6==d,_=5==d||m;return function(t,e,n,r){for(var i,a,o=lt(t),s=w(o),u=$t(e,n,3),c=rt(s.length),l=0,f=r||Qt,h=p?f(t,c):v?f(t,0):void 0;l<c;l++)if((_||l in s)&&(a=u(i=s[l],l,o),d))if(p)h[l]=a;else if(a)switch(d){case 3:return!0;case 5:return i;case 6:return l;case 2:ge.call(h,i)}else if(y)return!1;return m?-1:g||y?y:h}}function Xt(t,e){var n=Me[t]=re(Ae[be]);return Se(n,{type:we,tag:t,description:e}),O||(n.description=e),n}function te(e,t){E(e);var n=c(t),r=Ft(n).concat(qe(n));return me(r,function(t){O&&!Ve.call(n,t)||Ue(e,t,n[t])}),e}function ee(t,e){var n=c(t),r=l(e,!0);if(n!==Ee||!j(Me,r)||j(Le,r)){var i=Re(n,r);return!i||!j(Me,r)||j(n,_e)&&n[_e][r]||(i.enumerable=!0),i}}function ne(t){var e=Ce(c(t)),n=[];return me(e,function(t){j(Me,t)||j(G,t)||n.push(t)}),n}var re=Object.create||function(t,e){var n;return null!==t?(ft[Vt]=E(t),n=new ft,ft[Vt]=null,n[Wt]=t):n=Kt(),void 0===e?n:Bt(n,e)},ie=At.f,ae={}.toString,oe="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],se={f:function(t){return oe&&"[object Window]"==ae.call(t)?function(t){try{return ie(t)}catch(t){return oe.slice()}}(t):ie(c(t))}},ue=q("wks"),ce=C.Symbol,le=Nt?ce:A,fe={f:Zt},he=z.f,de=z.f,pe=Zt("toStringTag"),ve=Zt("species"),ge=[].push,ye={forEach:Jt(0),map:Jt(1),filter:Jt(2),some:Jt(3),every:Jt(4),find:Jt(5),findIndex:Jt(6)},me=ye.forEach,_e=I("hidden"),we="Symbol",be="prototype",ke=Zt("toPrimitive"),Se=pt.set,xe=pt.getterFor(we),Ee=Object[be],Ae=C.Symbol,Ie=et("JSON","stringify"),Re=D.f,Te=z.f,Ce=se.f,Oe=p.f,Me=q("symbols"),Le=q("op-symbols"),je=q("string-to-symbol-registry"),De=q("symbol-to-string-registry"),ze=q("wks"),Ne=C.QObject,Pe=!Ne||!Ne[be]||!Ne[be].findChild,Fe=O&&g(function(){return 7!=re(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Re(Ee,e);r&&delete Ee[e],Te(t,e,n),r&&t!==Ee&&Te(Ee,e,r)}:Te,Be=zt&&"symbol"==typeof Ae.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Ae},Ue=function(t,e,n){t===Ee&&Ue(Le,e,n),E(t);var r=l(e,!0);return E(n),j(Me,r)?(n.enumerable?(j(t,_e)&&t[_e][r]&&(t[_e][r]=!1),n=re(n,{enumerable:M(0,!1)})):(j(t,_e)||Te(t,_e,M(1,{})),t[_e][r]=!0),Fe(t,r,n)):Te(t,r,n)},Ve=function(t){var e=l(t,!0),n=Oe.call(this,e);return!(this===Ee&&j(Me,e)&&!j(Le,e))&&(!(n||!j(this,e)||!j(Me,e)||j(this,_e)&&this[_e][e])||n)},qe=function(t){var e=t===Ee,n=Ce(e?Le:c(t)),r=[];return me(n,function(t){!j(Me,t)||e&&!j(Ee,t)||r.push(Me[t])}),r};if(zt||(vt((Ae=function(t){if(this instanceof Ae)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==t?String(t):void 0,n=A(e),r=function(t){this===Ee&&r.call(Le,t),j(this,_e)&&j(this[_e],n)&&(this[_e][n]=!1),Fe(this,n,M(1,t))};return O&&Pe&&Fe(Ee,n,{configurable:!0,set:r}),Xt(n,e)})[be],"toString",function(){return xe(this).tag}),p.f=Ve,z.f=Ue,D.f=ee,At.f=se.f=ne,It.f=qe,O&&(Te(Ae[be],"description",{configurable:!0,get:function(){return xe(this).description}}),vt(Ee,"propertyIsEnumerable",Ve,{unsafe:!0}))),Nt||(fe.f=function(t){return Xt(Zt(t),t)}),ct({global:!0,wrap:!0,forced:!zt,sham:!zt},{Symbol:Ae}),me(Ft(ze),function(t){Gt(t)}),ct({target:we,stat:!0,forced:!zt},{for:function(t){var e=String(t);if(j(je,e))return je[e];var n=Ae(e);return je[e]=n,De[n]=e,n},keyFor:function(t){if(!Be(t))throw TypeError(t+" is not a symbol");if(j(De,t))return De[t]},useSetter:function(){Pe=!0},useSimple:function(){Pe=!1}}),ct({target:"Object",stat:!0,forced:!zt,sham:!O},{create:function(t,e){return void 0===e?re(t):te(re(t),e)},defineProperty:Ue,defineProperties:te,getOwnPropertyDescriptor:ee}),ct({target:"Object",stat:!0,forced:!zt},{getOwnPropertyNames:ne,getOwnPropertySymbols:qe}),ct({target:"Object",stat:!0,forced:g(function(){It.f(1)})},{getOwnPropertySymbols:function(t){return It.f(lt(t))}}),Ie){var We=!zt||g(function(){var t=Ae();return"[null]"!=Ie([t])||"{}"!=Ie({a:t})||"{}"!=Ie(Object(t))});ct({target:"JSON",stat:!0,forced:We},{stringify:function(t,e,n){for(var r,i=[t],a=1;a<arguments.length;)i.push(arguments[a++]);if((L(r=e)||void 0!==t)&&!Be(t))return Pt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Be(e))return e}),i[1]=e,Ie.apply(null,i)}})}Ae[be][ke]||N(Ae[be],ke,Ae[be].valueOf),Yt(Ae,we),G[_e]=!0;var Ke=z.f,Ze=C.Symbol;if(!(!O||"function"!=typeof Ze||"description"in Ze.prototype&&void 0===Ze().description)){var Ge={},Ye=function(t){var e=arguments.length<1||void 0===t?void 0:String(t),n=this instanceof Ye?new Ze(e):void 0===e?Ze():Ze(e);return""===e&&(Ge[n]=!0),n};st(Ye,Ze);var He=Ye.prototype=Ze.prototype;He.constructor=Ye;var $e=He.toString,Qe="Symbol(test)"==String(Ze("test")),Je=/^Symbol\((.*)\)[^)]+$/;Ke(He,"description",{configurable:!0,get:function(){var t=L(this)?this.valueOf():this,e=$e.call(t);if(j(Ge,t))return"";var n=Qe?e.slice(7,-1):e.replace(Je,"$1");return""===n?void 0:n}}),ct({global:!0,forced:!0},{Symbol:Ye})}Gt("asyncIterator"),Gt("hasInstance"),Gt("isConcatSpreadable"),Gt("iterator"),Gt("match"),Gt("replace"),Gt("search"),Gt("species"),Gt("split"),Gt("toPrimitive"),Gt("toStringTag"),Gt("unscopables");function Xe(t,e,n){var r=l(e);r in t?z.f(t,r,M(0,n)):t[r]=n}var tn,en,nn=et("navigator","userAgent")||"",rn=C.process,an=rn&&rn.versions,on=an&&an.v8;on?en=(tn=on.split("."))[0]+tn[1]:nn&&(!(tn=nn.match(/Edge\/(\d+)/))||74<=tn[1])&&(tn=nn.match(/Chrome\/(\d+)/))&&(en=tn[1]);function sn(e){return 51<=cn||!g(function(){var t=[];return(t.constructor={})[ln]=function(){return{foo:1}},1!==t[e](Boolean).foo})}function un(t){if(!L(t))return!1;var e=t[fn];return void 0!==e?!!e:Pt(t)}var cn=en&&+en,ln=Zt("species"),fn=Zt("isConcatSpreadable"),hn=9007199254740991,dn="Maximum allowed index exceeded",pn=51<=cn||!g(function(){var t=[];return t[fn]=!1,t.concat()[0]!==t}),vn=sn("concat");ct({target:"Array",proto:!0,forced:!pn||!vn},{concat:function(t){var e,n,r,i,a,o=lt(this),s=Qt(o,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(un(a=-1===e?o:arguments[e])){if(i=rt(a.length),hn<u+i)throw TypeError(dn);for(n=0;n<i;n++,u++)n in a&&Xe(s,u,a[n])}else{if(hn<=u)throw TypeError(dn);Xe(s,u++,a)}return s.length=u,s}});var gn=Math.min,yn=[].copyWithin||function(t,e,n){var r=lt(this),i=rt(r.length),a=it(t,i),o=it(e,i),s=2<arguments.length?n:void 0,u=gn((void 0===s?i:it(s,i))-o,i-a),c=1;for(o<a&&a<o+u&&(c=-1,o+=u-1,a+=u-1);0<u--;)o in r?r[a]=r[o]:delete r[a],a+=c,o+=c;return r},mn=Zt("unscopables"),_n=Array.prototype;null==_n[mn]&&z.f(_n,mn,{configurable:!0,value:re(null)});function wn(t){_n[mn][t]=!0}ct({target:"Array",proto:!0},{copyWithin:yn}),wn("copyWithin");function bn(t,e,n){for(var r=lt(this),i=rt(r.length),a=arguments.length,o=it(1<a?e:void 0,i),s=2<a?n:void 0,u=void 0===s?i:it(s,i);o<u;)r[o++]=t;return r}ct({target:"Array",proto:!0},{fill:bn}),wn("fill");var kn=ye.filter,Sn=sn("filter"),xn=Sn&&!g(function(){[].filter.call({length:-1,0:1},function(t){throw t})});ct({target:"Array",proto:!0,forced:!Sn||!xn},{filter:function(t,e){return kn(this,t,1<arguments.length?e:void 0)}});var En=ye.find,An="find",In=!0;An in[]&&Array(1)[An](function(){In=!1}),ct({target:"Array",proto:!0,forced:In},{find:function(t,e){return En(this,t,1<arguments.length?e:void 0)}}),wn(An);var Rn=ye.findIndex,Tn="findIndex",Cn=!0;Tn in[]&&Array(1)[Tn](function(){Cn=!1}),ct({target:"Array",proto:!0,forced:Cn},{findIndex:function(t,e){return Rn(this,t,1<arguments.length?e:void 0)}}),wn(Tn);var On=function(t,e,n,r,i,a,o,s){for(var u,c=i,l=0,f=!!o&&$t(o,s,3);l<r;){if(l in n){if(u=f?f(n[l],l,e):n[l],0<a&&Pt(u))c=On(t,e,u,rt(u.length),c,a-1)-1;else{if(9007199254740991<=c)throw TypeError("Exceed the acceptable array length");t[c]=u}c++}l++}return c},Mn=On;ct({target:"Array",proto:!0},{flat:function(t){var e=arguments.length?t:void 0,n=lt(this),r=rt(n.length),i=Qt(n,0);return i.length=Mn(i,n,n,r,0,void 0===e?1:nt(e)),i}}),ct({target:"Array",proto:!0},{flatMap:function(t,e){var n,r=lt(this),i=rt(r.length);return Ht(t),(n=Qt(r,0)).length=Mn(n,r,r,i,0,1,t,1<arguments.length?e:void 0),n}});function Ln(e,t,n,r){try{return r?t(E(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&E(i.call(e)),t}}function jn(t){return void 0!==t&&(Dn.Array===t||Nn[zn]===t)}var Dn={},zn=Zt("iterator"),Nn=Array.prototype,Pn={};Pn[Zt("toStringTag")]="z";function Fn(t){if(null!=t)return t[Kn]||t["@@iterator"]||Dn[Wn(t)]}function Bn(t,e,n){var r,i,a,o,s,u=lt(t),c="function"==typeof this?this:Array,l=arguments.length,f=1<l?e:void 0,h=void 0!==f,d=0,p=Fn(u);if(h&&(f=$t(f,2<l?n:void 0,2)),null==p||c==Array&&jn(p))for(i=new c(r=rt(u.length));d<r;d++)Xe(i,d,h?f(u[d],d):u[d]);else for(s=(o=p.call(u)).next,i=new c;!(a=s.call(o)).done;d++)Xe(i,d,h?Ln(o,f,[a.value,d],!0):a.value);return i.length=d,i}var Un="[object z]"===String(Pn),Vn=Zt("toStringTag"),qn="Arguments"==d(function(){return arguments}()),Wn=Un?d:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Vn))?n:qn?d(e):"Object"==(r=d(e))&&"function"==typeof e.callee?"Arguments":r},Kn=Zt("iterator"),Zn=Zt("iterator"),Gn=!1;try{var Yn=0,Hn={next:function(){return{done:!!Yn++}},return:function(){Gn=!0}};Hn[Zn]=function(){return this},Array.from(Hn,function(){throw 2})}catch(t){}function $n(t,e){if(!e&&!Gn)return!1;var n=!1;try{var r={};r[Zn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}var Qn=!$n(function(t){Array.from(t)});ct({target:"Array",stat:!0,forced:Qn},{from:Bn});var Jn=kt.includes;ct({target:"Array",proto:!0},{includes:function(t,e){return Jn(this,t,1<arguments.length?e:void 0)}}),wn("includes");var Xn,tr,er,nr=!g(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),rr=I("IE_PROTO"),ir=Object.prototype,ar=nr?Object.getPrototypeOf:function(t){return t=lt(t),j(t,rr)?t[rr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ir:null},or=Zt("iterator"),sr=!1;[].keys&&("next"in(er=[].keys())?(tr=ar(ar(er)))!==Object.prototype&&(Xn=tr):sr=!0),null==Xn&&(Xn={}),j(Xn,or)||N(Xn,or,function(){return this});function ur(){return this}function cr(t,e,n){var r=e+" Iterator";return t.prototype=re(pr,{next:M(1,n)}),Yt(t,r,!1),Dn[r]=ur,t}function lr(t){if(!L(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}function fr(){return this}function hr(t,e,n,r,i,a,o){function s(t){if(t===i&&v)return v;if(!yr&&t in d)return d[t];switch(t){case"keys":case _r:case wr:return function(){return new n(this,t)}}return function(){return new n(this)}}cr(n,e,r);var u,c,l,f=e+" Iterator",h=!1,d=t.prototype,p=d[mr]||d["@@iterator"]||i&&d[i],v=!yr&&p||s(i),g="Array"==e&&d.entries||p;if(g&&(u=ar(g.call(new t)),gr!==Object.prototype&&u.next&&(ar(u)!==gr&&(vr?vr(u,gr):"function"!=typeof u[mr]&&N(u,mr,fr)),Yt(u,f,!0))),i==_r&&p&&p.name!==_r&&(h=!0,v=function(){return p.call(this)}),d[mr]!==v&&N(d,mr,v),Dn[e]=v,i)if(c={values:s(_r),keys:a?v:s("keys"),entries:s(wr)},o)for(l in c)!yr&&!h&&l in d||vt(d,l,c[l]);else ct({target:e,proto:!0,forced:yr||h},c);return c}var dr={IteratorPrototype:Xn,BUGGY_SAFARI_ITERATORS:sr},pr=dr.IteratorPrototype,vr=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return E(t),lr(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),gr=dr.IteratorPrototype,yr=dr.BUGGY_SAFARI_ITERATORS,mr=Zt("iterator"),_r="values",wr="entries",br="Array Iterator",kr=pt.set,Sr=pt.getterFor(br),xr=hr(Array,"Array",function(t,e){kr(this,{type:br,target:c(t),index:0,kind:e})},function(){var t=Sr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Dn.Arguments=Dn.Array,wn("keys"),wn("values"),wn("entries");function Er(t,e){var n=[][t];return!n||!g(function(){n.call(null,e||function(){throw 1},1)})}var Ar=[].join,Ir=w!=Object,Rr=Er("join",",");ct({target:"Array",proto:!0,forced:Ir||Rr},{join:function(t){return Ar.call(c(this),void 0===t?",":t)}});var Tr=ye.map,Cr=sn("map"),Or=Cr&&!g(function(){[].map.call({length:-1,0:1},function(t){throw t})});ct({target:"Array",proto:!0,forced:!Cr||!Or},{map:function(t,e){return Tr(this,t,1<arguments.length?e:void 0)}});var Mr=g(function(){function t(){}return!(Array.of.call(t)instanceof t)});ct({target:"Array",stat:!0,forced:Mr},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)Xe(n,t,arguments[t++]);return n.length=e,n}});var Lr=[].reverse,jr=[1,2];ct({target:"Array",proto:!0,forced:String(jr)===String(jr.reverse())},{reverse:function(){return Pt(this)&&(this.length=this.length),Lr.call(this)}});var Dr=Zt("species"),zr=[].slice,Nr=Math.max;ct({target:"Array",proto:!0,forced:!sn("slice")},{slice:function(t,e){var n,r,i,a=c(this),o=rt(a.length),s=it(t,o),u=it(void 0===e?o:e,o);if(Pt(a)&&("function"!=typeof(n=a.constructor)||n!==Array&&!Pt(n.prototype)?L(n)&&null===(n=n[Dr])&&(n=void 0):n=void 0,n===Array||void 0===n))return zr.call(a,s,u);for(r=new(void 0===n?Array:n)(Nr(u-s,0)),i=0;s<u;s++,i++)s in a&&Xe(r,i,a[s]);return r.length=i,r}});function Pr(t){var e=et(t),n=z.f;O&&e&&!e[Fr]&&n(e,Fr,{configurable:!0,get:function(){return this}})}var Fr=Zt("species");Pr("Array");var Br=Math.max,Ur=Math.min;ct({target:"Array",proto:!0,forced:!sn("splice")},{splice:function(t,e){var n,r,i,a,o,s,u=lt(this),c=rt(u.length),l=it(t,c),f=arguments.length;if(0===f?n=r=0:r=1===f?(n=0,c-l):(n=f-2,Ur(Br(nt(e),0),c-l)),9007199254740991<c+n-r)throw TypeError("Maximum allowed length exceeded");for(i=Qt(u,r),a=0;a<r;a++)(o=l+a)in u&&Xe(i,a,u[o]);if(n<(i.length=r)){for(a=l;a<c-r;a++)s=a+n,(o=a+r)in u?u[s]=u[o]:delete u[s];for(a=c;c-r+n<a;a--)delete u[a-1]}else if(r<n)for(a=c-r;l<a;a--)s=a+n-1,(o=a+r-1)in u?u[s]=u[o]:delete u[s];for(a=0;a<n;a++)u[a+l]=arguments[a+2];return u.length=c-r+n,i}}),wn("flat"),wn("flatMap");function Vr(t){return L(t)&&j(oi,Wn(t))}var qr,Wr=z.f,Kr=C.DataView,Zr=Kr&&Kr.prototype,Gr=C.Int8Array,Yr=Gr&&Gr.prototype,Hr=C.Uint8ClampedArray,$r=Hr&&Hr.prototype,Qr=Gr&&ar(Gr),Jr=Yr&&ar(Yr),Xr=Object.prototype,ti=Xr.isPrototypeOf,ei=Zt("toStringTag"),ni=A("TYPED_ARRAY_TAG"),ri=!(!C.ArrayBuffer||!Kr),ii=ri&&!!vr&&"Opera"!==Wn(C.opera),ai=!1,oi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(qr in oi)C[qr]||(ii=!1);if((!ii||"function"!=typeof Qr||Qr===Function.prototype)&&(Qr=function(){throw TypeError("Incorrect invocation")},ii))for(qr in oi)C[qr]&&vr(C[qr],Qr);if((!ii||!Jr||Jr===Xr)&&(Jr=Qr.prototype,ii))for(qr in oi)C[qr]&&vr(C[qr].prototype,Jr);if(ii&&ar($r)!==Jr&&vr($r,Jr),O&&!j(Jr,ei))for(qr in ai=!0,Wr(Jr,ei,{get:function(){return L(this)?this[ni]:void 0}}),oi)C[qr]&&N(C[qr],ni,qr);ri&&vr&&ar(Zr)!==Xr&&vr(Zr,Xr);function si(t,e,n){for(var r in e)vt(t,r,e[r],n);return t}function ui(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function ci(t){if(void 0===t)return 0;var e=nt(t),n=rt(e);if(e!==n)throw RangeError("Wrong length or index");return n}function li(t){return[255&t]}function fi(t){return[255&t,t>>8&255]}function hi(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function di(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function pi(t){return Bi(t,23,4)}function vi(t){return Bi(t,52,8)}function gi(t,e){Ti(t[ji],e,{get:function(){return Ci(this)[e]}})}function yi(t,e,n,r){var i=ci(n),a=Ci(t);if(i+e>a.byteLength)throw Fi(Di);var o=Ci(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+e);return r?u:u.reverse()}function mi(t,e,n,r,i,a){var o=ci(n),s=Ci(t);if(o+e>s.byteLength)throw Fi(Di);for(var u=Ci(s.buffer).bytes,c=o+s.byteOffset,l=r(+i),f=0;f<e;f++)u[c+f]=l[a?f:e-f-1]}var _i={NATIVE_ARRAY_BUFFER:ri,NATIVE_ARRAY_BUFFER_VIEWS:ii,TYPED_ARRAY_TAG:ai&&ni,aTypedArray:function(t){if(Vr(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(vr){if(ti.call(Qr,t))return t}else for(var e in oi)if(j(oi,qr)){var n=C[e];if(n&&(t===n||ti.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(O){if(n)for(var r in oi){var i=C[r];i&&j(i.prototype,t)&&delete i.prototype[t]}Jr[t]&&!n||vt(Jr,t,n?e:ii&&Yr[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(O){if(vr){if(n)for(r in oi)(i=C[r])&&j(i,t)&&delete i[t];if(Qr[t]&&!n)return;try{return vt(Qr,t,n?e:ii&&Gr[t]||e)}catch(t){}}for(r in oi)!(i=C[r])||i[t]&&!n||vt(i,t,e)}},isView:function(t){var e=Wn(t);return"DataView"===e||j(oi,e)},isTypedArray:Vr,TypedArray:Qr,TypedArrayPrototype:Jr},wi=Math.abs,bi=Math.pow,ki=Math.floor,Si=Math.log,xi=Math.LN2,Ei=function(t,e,n){var r,i,a,o=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?bi(2,-24)-bi(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=wi(t))!=t||t===1/0?(i=t!=t?1:0,r=u):(r=ki(Si(t)/xi),t*(a=bi(2,-r))<1&&(r--,a*=2),2<=(t+=1<=r+c?l/a:l*bi(2,1-c))*a&&(r++,a/=2),u<=r+c?(i=0,r=u):1<=r+c?(i=(t*a-1)*bi(2,e),r+=c):(i=t*bi(2,c-1)*bi(2,e),r=0));8<=e;o[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;0<s;o[h++]=255&r,r/=256,s-=8);return o[--h]|=128*f,o},Ai=function(t,e){var n,r=t.length,i=8*r-e-1,a=(1<<i)-1,o=a>>1,s=i-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;0<s;l=256*l+t[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=e;0<s;n=256*n+t[u],u--,s-=8);if(0===l)l=1-o;else{if(l===a)return n?NaN:c?-1/0:1/0;n+=bi(2,e),l-=o}return(c?-1:1)*n*bi(2,l-e)},Ii=_i.NATIVE_ARRAY_BUFFER,Ri=At.f,Ti=z.f,Ci=pt.get,Oi=pt.set,Mi="ArrayBuffer",Li="DataView",ji="prototype",Di="Wrong index",zi=C[Mi],Ni=zi,Pi=C[Li],Fi=C.RangeError,Bi=Ei,Ui=Ai;if(Ii){if(!g(function(){zi(1)})||!g(function(){new zi(-1)})||g(function(){return new zi,new zi(1.5),new zi(NaN),zi.name!=Mi})){for(var Vi,qi=(Ni=function(t){return ui(this,Ni),new zi(ci(t))})[ji]=zi[ji],Wi=Ri(zi),Ki=0;Wi.length>Ki;)(Vi=Wi[Ki++])in Ni||N(Ni,Vi,zi[Vi]);qi.constructor=Ni}var Zi=new Pi(new Ni(2)),Gi=Pi[ji].setInt8;Zi.setInt8(0,2147483648),Zi.setInt8(1,2147483649),!Zi.getInt8(0)&&Zi.getInt8(1)||si(Pi[ji],{setInt8:function(t,e){Gi.call(this,t,e<<24>>24)},setUint8:function(t,e){Gi.call(this,t,e<<24>>24)}},{unsafe:!0})}else Ni=function(t){ui(this,Ni,Mi);var e=ci(t);Oi(this,{bytes:bn.call(new Array(e),0),byteLength:e}),O||(this.byteLength=e)},Pi=function(t,e,n){ui(this,Pi,Li),ui(t,Ni,Li);var r=Ci(t).byteLength,i=nt(e);if(i<0||r<i)throw Fi("Wrong offset");if(r<i+(n=void 0===n?r-i:rt(n)))throw Fi("Wrong length");Oi(this,{buffer:t,byteLength:n,byteOffset:i}),O||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},O&&(gi(Ni,"byteLength"),gi(Pi,"buffer"),gi(Pi,"byteLength"),gi(Pi,"byteOffset")),si(Pi[ji],{getInt8:function(t){return yi(this,1,t)[0]<<24>>24},getUint8:function(t){return yi(this,1,t)[0]},getInt16:function(t,e){var n=yi(this,2,t,1<arguments.length?e:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t,e){var n=yi(this,2,t,1<arguments.length?e:void 0);return n[1]<<8|n[0]},getInt32:function(t,e){return di(yi(this,4,t,1<arguments.length?e:void 0))},getUint32:function(t,e){return di(yi(this,4,t,1<arguments.length?e:void 0))>>>0},getFloat32:function(t,e){return Ui(yi(this,4,t,1<arguments.length?e:void 0),23)},getFloat64:function(t,e){return Ui(yi(this,8,t,1<arguments.length?e:void 0),52)},setInt8:function(t,e){mi(this,1,t,li,e)},setUint8:function(t,e){mi(this,1,t,li,e)},setInt16:function(t,e,n){mi(this,2,t,fi,e,2<arguments.length?n:void 0)},setUint16:function(t,e,n){mi(this,2,t,fi,e,2<arguments.length?n:void 0)},setInt32:function(t,e,n){mi(this,4,t,hi,e,2<arguments.length?n:void 0)},setUint32:function(t,e,n){mi(this,4,t,hi,e,2<arguments.length?n:void 0)},setFloat32:function(t,e,n){mi(this,4,t,pi,e,2<arguments.length?n:void 0)},setFloat64:function(t,e,n){mi(this,8,t,vi,e,2<arguments.length?n:void 0)}});Yt(Ni,Mi),Yt(Pi,Li);var Yi={ArrayBuffer:Ni,DataView:Pi},Hi="ArrayBuffer",$i=Yi[Hi],Qi=C[Hi];ct({global:!0,forced:Qi!==$i},{ArrayBuffer:$i}),Pr(Hi);function Ji(t,e){var n,r=E(t).constructor;return void 0===r||null==(n=E(r)[Xi])?e:Ht(n)}var Xi=Zt("species"),ta=Yi.ArrayBuffer,ea=Yi.DataView,na=ta.prototype.slice,ra=g(function(){return!new ta(2).slice(1,void 0).byteLength});ct({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:ra},{slice:function(t,e){if(void 0!==na&&void 0===e)return na.call(E(this),t);for(var n=E(this).byteLength,r=it(t,n),i=it(void 0===e?n:e,n),a=new(Ji(this,ta))(rt(i-r)),o=new ea(this),s=new ea(a),u=0;r<i;)s.setUint8(u++,o.getUint8(r++));return a}});var ia=Zt("toPrimitive"),aa=Date.prototype;ia in aa||N(aa,ia,function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return l(E(this),"number"!==t)});var oa=Zt("hasInstance"),sa=Function.prototype;oa in sa||z.f(sa,oa,{value:function(t){if("function"!=typeof this||!L(t))return!1;if(!L(this.prototype))return t instanceof this;for(;t=ar(t);)if(this.prototype===t)return!0;return!1}});var ua=z.f,ca=Function.prototype,la=ca.toString,fa=/^\s*function ([^ (]*)/;!O||"name"in ca||ua(ca,"name",{configurable:!0,get:function(){try{return la.call(this).match(fa)[1]}catch(t){return""}}}),Yt(C.JSON,"JSON",!0);function ha(t,e,n){var r,i;return vr&&"function"==typeof(r=e.constructor)&&r!==n&&L(i=r.prototype)&&i!==n.prototype&&vr(t,i),t}function da(r,t,e){function n(t){var n=u[t];vt(u,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(a&&!L(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!L(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!L(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var i=-1!==r.indexOf("Map"),a=-1!==r.indexOf("Weak"),o=i?"set":"add",s=C[r],u=s&&s.prototype,c=s,l={};if(jt(r,"function"!=typeof s||!(a||u.forEach&&!g(function(){(new s).entries().next()}))))c=e.getConstructor(t,r,i,o),va.REQUIRED=!0;else if(jt(r,!0)){var f=new c,h=f[o](a?{}:-0,1)!=f,d=g(function(){f.has(1)}),p=$n(function(t){new s(t)}),v=!a&&g(function(){for(var t=new s,e=5;e--;)t[o](e,e);return!t.has(-0)});p||(((c=t(function(t,e){ui(t,c,r);var n=ha(new s,t,c);return null!=e&&ga(e,n[o],n,i),n})).prototype=u).constructor=c),(d||v)&&(n("delete"),n("has"),i&&n("get")),(v||h)&&n(o),a&&u.clear&&delete u.clear}return l[r]=c,ct({global:!0,forced:c!=s},l),Yt(c,r),a||e.setStrong(c,r,i),c}var pa=!g(function(){return Object.isExtensible(Object.preventExtensions({}))}),va=e(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var e=z.f,r=A("meta"),i=0,a=Object.isExtensible||function(){return!0},o=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!L(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!j(t,r)){if(!a(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!j(t,r)){if(!a(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return pa&&o.REQUIRED&&a(t)&&!j(t,r)&&n(t),t}};G[r]=!0}),ga=(va.REQUIRED,va.fastKey,va.getWeakData,va.onFreeze,e(function(t){function d(t,e){this.stopped=t,this.result=e}(t.exports=function(t,e,n,r,i){var a,o,s,u,c,l,f,h=$t(e,n,r?2:1);if(i)a=t;else{if("function"!=typeof(o=Fn(t)))throw TypeError("Target is not iterable");if(jn(o)){for(s=0,u=rt(t.length);s<u;s++)if((c=r?h(E(f=t[s])[0],f[1]):h(t[s]))&&c instanceof d)return c;return new d(!1)}a=o.call(t)}for(l=a.next;!(f=l.call(a)).done;)if("object"==typeof(c=Ln(a,h,f.value,r))&&c&&c instanceof d)return c;return new d(!1)}).stop=function(t){return new d(!0,t)}})),ya=z.f,ma=va.fastKey,_a=pt.set,wa=pt.getterFor,ba={getConstructor:function(t,n,r,i){function a(t,e,n){var r,i,a=s(t),o=u(t,e);return o?o.value=n:(a.last=o={index:i=ma(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),O?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t}var o=t(function(t,e){ui(t,o,n),_a(t,{type:n,index:re(null),first:void 0,last:void 0,size:0}),O||(t.size=0),null!=e&&ga(e,t[i],t,r)}),s=wa(n),u=function(t,e){var n,r=s(t),i=ma(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return si(o.prototype,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,O?t.size=0:this.size=0},delete:function(t){var e=s(this),n=u(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),O?e.size--:this.size--}return!!n},forEach:function(t,e){for(var n,r=s(this),i=$t(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!u(this,t)}}),si(o.prototype,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),O&&ya(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=wa(e),a=wa(r);hr(t,e,function(t,e){_a(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Pr(e)}},ka=da("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},ba),Sa=Math.log,xa=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Sa(1+t)},Ea=Math.acosh,Aa=Math.log,Ia=Math.sqrt,Ra=Math.LN2,Ta=!Ea||710!=Math.floor(Ea(Number.MAX_VALUE))||Ea(1/0)!=1/0;ct({target:"Math",stat:!0,forced:Ta},{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Aa(t)+Ra:xa(t-1+Ia(t-1)*Ia(t+1))}});var Ca=Math.asinh,Oa=Math.log,Ma=Math.sqrt;ct({target:"Math",stat:!0,forced:!(Ca&&0<1/Ca(0))},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Oa(e+Ma(e*e+1)):e}});var La=Math.atanh,ja=Math.log;ct({target:"Math",stat:!0,forced:!(La&&1/La(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:ja((1+t)/(1-t))/2}});var Da=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},za=Math.abs,Na=Math.pow;ct({target:"Math",stat:!0},{cbrt:function(t){return Da(t=+t)*Na(za(t),1/3)}});var Pa=Math.floor,Fa=Math.log,Ba=Math.LOG2E;ct({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-Pa(Fa(t+.5)*Ba):32}});var Ua=Math.expm1,Va=Math.exp,qa=!Ua||22025.465794806718<Ua(10)||Ua(10)<22025.465794806718||-2e-17!=Ua(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Va(t)-1}:Ua,Wa=Math.cosh,Ka=Math.abs,Za=Math.E;ct({target:"Math",stat:!0,forced:!Wa||Wa(710)===1/0},{cosh:function(t){var e=qa(Ka(t)-1)+1;return(e+1/(e*Za*Za))*(Za/2)}}),ct({target:"Math",stat:!0,forced:qa!=Math.expm1},{expm1:qa});var Ga=Math.abs,Ya=Math.pow,Ha=Ya(2,-52),$a=Ya(2,-23),Qa=Ya(2,127)*(2-$a),Ja=Ya(2,-126),Xa=Math.fround||function(t){var e,n,r=Ga(t),i=Da(t);return r<Ja?i*(r/Ja/$a+1/Ha-1/Ha)*Ja*$a:Qa<(n=(e=(1+$a/Ha)*r)-(e-r))||n!=n?i*(1/0):i*n};ct({target:"Math",stat:!0},{fround:Xa});var to=Math.hypot,eo=Math.abs,no=Math.sqrt,ro=!!to&&to(1/0,NaN)!==1/0;ct({target:"Math",stat:!0,forced:ro},{hypot:function(t,e){for(var n,r,i=0,a=0,o=arguments.length,s=0;a<o;)s<(n=eo(arguments[a++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*no(i)}});var io=Math.imul,ao=g(function(){return-5!=io(4294967295,5)||2!=io.length});ct({target:"Math",stat:!0,forced:ao},{imul:function(t,e){var n=65535,r=+t,i=+e,a=n&r,o=n&i;return 0|a*o+((n&r>>>16)*o+a*(n&i>>>16)<<16>>>0)}});var oo=Math.log,so=Math.LOG10E;ct({target:"Math",stat:!0},{log10:function(t){return oo(t)*so}}),ct({target:"Math",stat:!0},{log1p:xa});var uo=Math.log,co=Math.LN2;ct({target:"Math",stat:!0},{log2:function(t){return uo(t)/co}}),ct({target:"Math",stat:!0},{sign:Da});var lo=Math.abs,fo=Math.exp,ho=Math.E,po=g(function(){return-2e-17!=Math.sinh(-2e-17)});ct({target:"Math",stat:!0,forced:po},{sinh:function(t){return lo(t=+t)<1?(qa(t)-qa(-t))/2:(fo(t-1)-fo(-t-1))*(ho/2)}});var vo=Math.exp;ct({target:"Math",stat:!0},{tanh:function(t){var e=qa(t=+t),n=qa(-t);return e==1/0?1:n==1/0?-1:(e-n)/(vo(t)+vo(-t))}}),Yt(Math,"Math",!0);var go=Math.ceil,yo=Math.floor;ct({target:"Math",stat:!0},{trunc:function(t){return(0<t?yo:go)(t)}});function mo(n){return function(t){var e=String(f(t));return 1&n&&(e=e.replace(ko,"")),2&n&&(e=e.replace(So,"")),e}}function _o(t){var e,n,r,i,a,o,s,u,c=l(t,!1);if("string"==typeof c&&2<c.length)if(43===(e=(c=Ro(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((u=a.charCodeAt(s))<48||i<u)return NaN;return parseInt(a,r)}return+c}var wo="\t\n\v\f\r                　\u2028\u2029\ufeff",bo="["+wo+"]",ko=RegExp("^"+bo+bo+"*"),So=RegExp(bo+bo+"*$"),xo={start:mo(1),end:mo(2),trim:mo(3)},Eo=At.f,Ao=D.f,Io=z.f,Ro=xo.trim,To="Number",Co=C[To],Oo=Co.prototype,Mo=d(re(Oo))==To;if(jt(To,!Co(" 0o1")||!Co("0b1")||Co("+0x1"))){for(var Lo,jo=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof jo&&(Mo?g(function(){Oo.valueOf.call(n)}):d(n)!=To)?ha(new Co(_o(e)),n,jo):_o(e)},Do=O?Eo(Co):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),zo=0;Do.length>zo;zo++)j(Co,Lo=Do[zo])&&!j(jo,Lo)&&Io(jo,Lo,Ao(Co,Lo));(jo.prototype=Oo).constructor=jo,vt(C,To,jo)}ct({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var No=C.isFinite,Po=Number.isFinite||function(t){return"number"==typeof t&&No(t)};ct({target:"Number",stat:!0},{isFinite:Po});function Fo(t){return!L(t)&&isFinite(t)&&Bo(t)===t}var Bo=Math.floor;ct({target:"Number",stat:!0},{isInteger:Fo}),ct({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Uo=Math.abs;ct({target:"Number",stat:!0},{isSafeInteger:function(t){return Fo(t)&&Uo(t)<=9007199254740991}}),ct({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),ct({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Vo=xo.trim,qo=C.parseFloat,Wo=1/qo(wo+"-0")!=-1/0?function(t){var e=Vo(String(t)),n=qo(e);return 0===n&&"-"==e.charAt(0)?-0:n}:qo;ct({target:"Number",stat:!0,forced:Number.parseFloat!=Wo},{parseFloat:Wo});var Ko=xo.trim,Zo=C.parseInt,Go=/^[+-]?0[Xx]/,Yo=8!==Zo(wo+"08")||22!==Zo(wo+"0x16")?function(t,e){var n=Ko(String(t));return Zo(n,e>>>0||(Go.test(n)?16:10))}:Zo;ct({target:"Number",stat:!0,forced:Number.parseInt!=Yo},{parseInt:Yo});var Ho="".repeat||function(t){var e=String(f(this)),n="",r=nt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},$o=1..toFixed,Qo=Math.floor,Jo=function(t,e,n){return 0===e?n:e%2==1?Jo(t,e-1,n*t):Jo(t*t,e/2,n)},Xo=$o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!g(function(){$o.call({})});ct({target:"Number",proto:!0,forced:Xo},{toFixed:function(t){function e(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=Qo(r/1e7)}function n(t){for(var e=6,n=0;0<=--e;)n+=l[e],l[e]=Qo(n/t),n=n%t*1e7}function r(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+Ho.call("0",7-n.length)+n}return e}var i,a,o,s,u=function(t){if("number"!=typeof t&&"Number"!=d(t))throw TypeError("Incorrect invocation");return+t}(this),c=nt(t),l=[0,0,0,0,0,0],f="",h="0";if(c<0||20<c)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||1e21<=u)return String(u);if(u<0&&(f="-",u=-u),1e-21<u)if(a=(i=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(u*Jo(2,69,1))-69)<0?u*Jo(2,-i,1):u/Jo(2,i,1),a*=4503599627370496,0<(i=52-i)){for(e(0,a),o=c;7<=o;)e(1e7,0),o-=7;for(e(Jo(10,o,1),0),o=i-1;23<=o;)n(1<<23),o-=23;n(1<<o),e(1,1),n(2),h=r()}else e(0,a),e(1<<-i,0),h=r()+Ho.call("0",c);return h=0<c?f+((s=h.length)<=c?"0."+Ho.call("0",c-s)+h:h.slice(0,s-c)+"."+h.slice(s-c)):f+h}});var ts=Object.assign,es=Object.defineProperty,ns=!ts||g(function(){if(O&&1!==ts({b:1},ts(es({},"a",{enumerable:!0,get:function(){es(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=ts({},t)[n]||Ft(ts({},e)).join("")!=r})?function(t,e){for(var n=lt(t),r=arguments.length,i=1,a=It.f,o=p.f;i<r;)for(var s,u=w(arguments[i++]),c=a?Ft(u).concat(a(u)):Ft(u),l=c.length,f=0;f<l;)s=c[f++],O&&!o.call(u,s)||(n[s]=u[s]);return n}:ts;ct({target:"Object",stat:!0,forced:Object.assign!==ns},{assign:ns});var rs=!g(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete C[t]});O&&ct({target:"Object",proto:!0,forced:rs},{__defineGetter__:function(t,e){z.f(lt(this),t,{get:Ht(e),enumerable:!0,configurable:!0})}}),O&&ct({target:"Object",proto:!0,forced:rs},{__defineSetter__:function(t,e){z.f(lt(this),t,{set:Ht(e),enumerable:!0,configurable:!0})}});function is(s){return function(t){for(var e,n=c(t),r=Ft(n),i=r.length,a=0,o=[];a<i;)e=r[a++],O&&!as.call(n,e)||o.push(s?[e,n[e]]:n[e]);return o}}var as=p.f,os={entries:is(!0),values:is(!1)},ss=os.entries;ct({target:"Object",stat:!0},{entries:function(t){return ss(t)}});var us=va.onFreeze,cs=Object.freeze,ls=g(function(){cs(1)});ct({target:"Object",stat:!0,forced:ls,sham:!pa},{freeze:function(t){return cs&&L(t)?cs(us(t)):t}}),ct({target:"Object",stat:!0},{fromEntries:function(t){var n={};return ga(t,function(t,e){Xe(n,t,e)},void 0,!0),n}});var fs=D.f,hs=g(function(){fs(1)});ct({target:"Object",stat:!0,forced:!O||hs,sham:!O},{getOwnPropertyDescriptor:function(t,e){return fs(c(t),e)}}),ct({target:"Object",stat:!0,sham:!O},{getOwnPropertyDescriptors:function(t){for(var e,n,r=c(t),i=D.f,a=Rt(r),o={},s=0;a.length>s;)void 0!==(n=i(r,e=a[s++]))&&Xe(o,e,n);return o}});var ds=se.f,ps=g(function(){return!Object.getOwnPropertyNames(1)});ct({target:"Object",stat:!0,forced:ps},{getOwnPropertyNames:ds});var vs=g(function(){ar(1)});ct({target:"Object",stat:!0,forced:vs,sham:!nr},{getPrototypeOf:function(t){return ar(lt(t))}});var gs=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};ct({target:"Object",stat:!0},{is:gs});var ys=Object.isExtensible,ms=g(function(){ys(1)});ct({target:"Object",stat:!0,forced:ms},{isExtensible:function(t){return!!L(t)&&(!ys||ys(t))}});var _s=Object.isFrozen,ws=g(function(){_s(1)});ct({target:"Object",stat:!0,forced:ws},{isFrozen:function(t){return!L(t)||!!_s&&_s(t)}});var bs=Object.isSealed,ks=g(function(){bs(1)});ct({target:"Object",stat:!0,forced:ks},{isSealed:function(t){return!L(t)||!!bs&&bs(t)}});var Ss=g(function(){Ft(1)});ct({target:"Object",stat:!0,forced:Ss},{keys:function(t){return Ft(lt(t))}});var xs=D.f;O&&ct({target:"Object",proto:!0,forced:rs},{__lookupGetter__:function(t){var e,n=lt(this),r=l(t,!0);do{if(e=xs(n,r))return e.get}while(n=ar(n))}});var Es=D.f;O&&ct({target:"Object",proto:!0,forced:rs},{__lookupSetter__:function(t){var e,n=lt(this),r=l(t,!0);do{if(e=Es(n,r))return e.set}while(n=ar(n))}});var As=va.onFreeze,Is=Object.preventExtensions,Rs=g(function(){Is(1)});ct({target:"Object",stat:!0,forced:Rs,sham:!pa},{preventExtensions:function(t){return Is&&L(t)?Is(As(t)):t}});var Ts=va.onFreeze,Cs=Object.seal,Os=g(function(){Cs(1)});ct({target:"Object",stat:!0,forced:Os,sham:!pa},{seal:function(t){return Cs&&L(t)?Cs(Ts(t)):t}});var Ms=Un?{}.toString:function(){return"[object "+Wn(this)+"]"};Un||vt(Object.prototype,"toString",Ms,{unsafe:!0});var Ls=os.values;ct({target:"Object",stat:!0},{values:function(t){return Ls(t)}});function js(t){if($s.hasOwnProperty(t)){var e=$s[t];delete $s[t],e()}}function Ds(t){return function(){js(t)}}function zs(t){js(t.data)}function Ns(t){C.postMessage(t+"",qs.protocol+"//"+qs.host)}var Ps,Fs,Bs,Us=C.Promise,Vs=/(iphone|ipod|ipad).*applewebkit/i.test(nn),qs=C.location,Ws=C.setImmediate,Ks=C.clearImmediate,Zs=C.process,Gs=C.MessageChannel,Ys=C.Dispatch,Hs=0,$s={},Qs="onreadystatechange";Ws&&Ks||(Ws=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return $s[++Hs]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Ps(Hs),Hs},Ks=function(t){delete $s[t]},"process"==d(Zs)?Ps=function(t){Zs.nextTick(Ds(t))}:Ys&&Ys.now?Ps=function(t){Ys.now(Ds(t))}:Gs&&!Vs?(Bs=(Fs=new Gs).port2,Fs.port1.onmessage=zs,Ps=$t(Bs.postMessage,Bs,1)):!C.addEventListener||"function"!=typeof postMessage||C.importScripts||g(Ns)?Ps=Qs in r("script")?function(t){Ut.appendChild(r("script"))[Qs]=function(){Ut.removeChild(this),js(t)}}:function(t){setTimeout(Ds(t),0)}:(Ps=Ns,C.addEventListener("message",zs,!1)));var Js,Xs,tu,eu,nu,ru,iu,au,ou={set:Ws,clear:Ks},su=D.f,uu=ou.set,cu=C.MutationObserver||C.WebKitMutationObserver,lu=C.process,fu=C.Promise,hu="process"==d(lu),du=su(C,"queueMicrotask"),pu=du&&du.value;pu||(Js=function(){var t,e;for(hu&&(t=lu.domain)&&t.exit();Xs;){e=Xs.fn,Xs=Xs.next;try{e()}catch(t){throw Xs?eu():tu=void 0,t}}tu=void 0,t&&t.enter()},eu=hu?function(){lu.nextTick(Js)}:cu&&!Vs?(nu=!0,ru=document.createTextNode(""),new cu(Js).observe(ru,{characterData:!0}),function(){ru.data=nu=!nu}):fu&&fu.resolve?(iu=fu.resolve(void 0),au=iu.then,function(){au.call(iu,Js)}):function(){uu.call(C,Js)});function vu(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=Ht(n),this.reject=Ht(r)}function gu(t,e){if(E(t),L(e)&&e.constructor===t)return e;var n=Tu.f(t);return(0,n.resolve)(e),n.promise}function yu(t,e){var n=C.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}function mu(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function _u(t){var e;return!(!L(t)||"function"!=typeof(e=t.then))&&e}function wu(f,h,d){if(!h.notified){h.notified=!0;var p=h.reactions;Ru(function(){for(var t=h.value,e=1==h.state,n=0;p.length>n;){var r,i,a,o=p[n++],s=e?o.ok:o.fail,u=o.resolve,c=o.reject,l=o.domain;try{s?(e||(2===h.rejection&&$u(f,h),h.rejection=1),!0===s?r=t:(l&&l.enter(),r=s(t),l&&(l.exit(),a=!0)),r===o.promise?c(Nu("Promise-chain cycle")):(i=_u(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!a&&l.exit(),c(t)}}h.reactions=[],h.notified=!1,d&&!h.rejection&&Yu(f,h)})}}function bu(t,e,n){var r,i;Wu?((r=Pu.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),C.dispatchEvent(r)):r={promise:e,reason:n},(i=C["on"+t])?i(r):t===Ku&&yu("Unhandled promise rejection",n)}function ku(e,n,r,i){return function(t){e(n,r,t,i)}}function Su(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,wu(t,e,!0))}var xu,Eu,Au,Iu,Ru=pu||function(t){var e={fn:t,next:void 0};tu&&(tu.next=e),Xs||(Xs=e,eu()),tu=e},Tu={f:function(t){return new vu(t)}},Cu=ou.set,Ou=Zt("species"),Mu="Promise",Lu=pt.get,ju=pt.set,Du=pt.getterFor(Mu),zu=Us,Nu=C.TypeError,Pu=C.document,Fu=C.process,Bu=et("fetch"),Uu=Tu.f,Vu=Uu,qu="process"==d(Fu),Wu=!!(Pu&&Pu.createEvent&&C.dispatchEvent),Ku="unhandledrejection",Zu=jt(Mu,function(){if(!(F(zu)!==String(zu))){if(66===cn)return!0;if(!qu&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=cn&&/native code/.test(zu))return!1;function t(t){t(function(){},function(){})}var e=zu.resolve(1);return(e.constructor={})[Ou]=t,!(e.then(function(){})instanceof t)}),Gu=Zu||!$n(function(t){zu.all(t).catch(function(){})}),Yu=function(n,r){Cu.call(C,function(){var t,e=r.value;if(Hu(r)&&(t=mu(function(){qu?Fu.emit("unhandledRejection",e,n):bu(Ku,n,e)}),r.rejection=qu||Hu(r)?2:1,t.error))throw t.value})},Hu=function(t){return 1!==t.rejection&&!t.parent},$u=function(t,e){Cu.call(C,function(){qu?Fu.emit("rejectionHandled",t):bu("rejectionhandled",t,e.value)})},Qu=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw Nu("Promise can't be resolved itself");var i=_u(t);i?Ru(function(){var e={done:!1};try{i.call(t,ku(Qu,n,e,r),ku(Su,n,e,r))}catch(t){Su(n,e,t,r)}}):(r.value=t,r.state=1,wu(n,r,!1))}catch(t){Su(n,{done:!1},t,r)}}};Zu&&(zu=function(t){ui(this,zu,Mu),Ht(t),xu.call(this);var e=Lu(this);try{t(ku(Qu,this,e),ku(Su,this,e))}catch(t){Su(this,e,t)}},(xu=function(){ju(this,{type:Mu,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=si(zu.prototype,{then:function(t,e){var n=Du(this),r=Uu(Ji(this,zu));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=qu?Fu.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&wu(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Eu=function(){var t=new xu,e=Lu(t);this.promise=t,this.resolve=ku(Qu,t,e),this.reject=ku(Su,t,e)},Tu.f=Uu=function(t){return t===zu||t===Au?new Eu(t):Vu(t)},"function"==typeof Us&&(Iu=Us.prototype.then,vt(Us.prototype,"then",function(t,e){var n=this;return new zu(function(t,e){Iu.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Bu&&ct({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return gu(zu,Bu.apply(C,arguments))}}))),ct({global:!0,wrap:!0,forced:Zu},{Promise:zu}),Yt(zu,Mu,!1),Pr(Mu),Au=et(Mu),ct({target:Mu,stat:!0,forced:Zu},{reject:function(t){var e=Uu(this);return e.reject.call(void 0,t),e.promise}}),ct({target:Mu,stat:!0,forced:Zu},{resolve:function(t){return gu(this,t)}}),ct({target:Mu,stat:!0,forced:Gu},{all:function(t){var s=this,e=Uu(s),u=e.resolve,c=e.reject,n=mu(function(){var r=Ht(s.resolve),i=[],a=0,o=1;ga(t,function(t){var e=a++,n=!1;i.push(void 0),o++,r.call(s,t).then(function(t){n||(n=!0,i[e]=t,--o||u(i))},c)}),--o||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=Uu(n),i=r.reject,e=mu(function(){var e=Ht(n.resolve);ga(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}});var Ju=!!Us&&g(function(){Us.prototype.finally.call({then:function(){}},function(){})});ct({target:"Promise",proto:!0,real:!0,forced:Ju},{finally:function(e){var n=Ji(this,et("Promise")),t="function"==typeof e;return this.then(t?function(t){return gu(n,e()).then(function(){return t})}:e,t?function(t){return gu(n,e()).then(function(){throw t})}:e)}}),"function"!=typeof Us||Us.prototype.finally||vt(Us.prototype,"finally",et("Promise").prototype.finally);var Xu=et("Reflect","apply"),tc=Function.apply,ec=!g(function(){Xu(function(){})});ct({target:"Reflect",stat:!0,forced:ec},{apply:function(t,e,n){return Ht(t),E(n),Xu?Xu(t,e,n):tc.call(t,e,n)}});var nc=[].slice,rc={},ic=Function.bind||function(e){var n=Ht(this),r=nc.call(arguments,1),i=function(){var t=r.concat(nc.call(arguments));return this instanceof i?function(t,e,n){if(!(e in rc)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";rc[e]=Function("C,a","return new C("+r.join(",")+")")}return rc[e](t,n)}(n,t.length,t):n.apply(e,t)};return L(n.prototype)&&(i.prototype=n.prototype),i},ac=et("Reflect","construct"),oc=g(function(){function t(){}return!(ac(function(){},[],t)instanceof t)}),sc=!g(function(){ac(function(){})}),uc=oc||sc;ct({target:"Reflect",stat:!0,forced:uc,sham:uc},{construct:function(t,e,n){Ht(t),E(e);var r=arguments.length<3?t:Ht(n);if(sc&&!oc)return ac(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(ic.apply(t,i))}var a=r.prototype,o=re(L(a)?a:Object.prototype),s=Function.apply.call(t,o,e);return L(s)?s:o}});var cc=g(function(){Reflect.defineProperty(z.f({},1,{value:1}),1,{value:2})});ct({target:"Reflect",stat:!0,forced:cc,sham:!O},{defineProperty:function(t,e,n){E(t);var r=l(e,!0);E(n);try{return z.f(t,r,n),!0}catch(t){return!1}}});var lc=D.f;ct({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=lc(E(t),e);return!(n&&!n.configurable)&&delete t[e]}}),ct({target:"Reflect",stat:!0},{get:function t(e,n){var r,i,a=arguments.length<3?e:arguments[2];return E(e)===a?e[n]:(r=D.f(e,n))?j(r,"value")?r.value:void 0===r.get?void 0:r.get.call(a):L(i=ar(e))?t(i,n,a):void 0}}),ct({target:"Reflect",stat:!0,sham:!O},{getOwnPropertyDescriptor:function(t,e){return D.f(E(t),e)}}),ct({target:"Reflect",stat:!0,sham:!nr},{getPrototypeOf:function(t){return ar(E(t))}}),ct({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var fc=Object.isExtensible;ct({target:"Reflect",stat:!0},{isExtensible:function(t){return E(t),!fc||fc(t)}}),ct({target:"Reflect",stat:!0},{ownKeys:Rt}),ct({target:"Reflect",stat:!0,sham:!pa},{preventExtensions:function(t){E(t);try{var e=et("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var hc=g(function(){var t=z.f({},"a",{configurable:!0});return!1!==Reflect.set(ar(t),"a",1,t)});ct({target:"Reflect",stat:!0,forced:hc},{set:function t(e,n,r){var i,a,o=arguments.length<4?e:arguments[3],s=D.f(E(e),n);if(!s){if(L(a=ar(e)))return t(a,n,r,o);s=M(0)}if(j(s,"value")){if(!1===s.writable||!L(o))return!1;if(i=D.f(o,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,z.f(o,n,i)}else z.f(o,n,M(0,r));return!0}return void 0!==s.set&&(s.set.call(o,r),!0)}}),vr&&ct({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){E(t),lr(e);try{return vr(t,e),!0}catch(t){return!1}}});function dc(t){var e;return L(t)&&(void 0!==(e=t[vc])?!!e:"RegExp"==d(t))}function pc(){var t=E(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}var vc=Zt("match");function gc(t,e){return RegExp(t,e)}var yc={UNSUPPORTED_Y:g(function(){var t=gc("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:g(function(){var t=gc("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},mc=z.f,_c=At.f,wc=pt.set,bc=Zt("match"),kc=C.RegExp,Sc=kc.prototype,xc=/a/g,Ec=/a/g,Ac=new kc(xc)!==xc,Ic=yc.UNSUPPORTED_Y;if(O&&jt("RegExp",!Ac||Ic||g(function(){return Ec[bc]=!1,kc(xc)!=xc||kc(Ec)==Ec||"/a/i"!=kc(xc,"i")}))){for(var Rc=function(t,e){var n,r=this instanceof Rc,i=dc(t),a=void 0===e;if(!r&&i&&t.constructor===Rc&&a)return t;Ac?i&&!a&&(t=t.source):t instanceof Rc&&(a&&(e=pc.call(t)),t=t.source),Ic&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));var o=ha(Ac?new kc(t,e):kc(t,e),r?this:Sc,Rc);return Ic&&n&&wc(o,{sticky:n}),o},Tc=function(e){e in Rc||mc(Rc,e,{configurable:!0,get:function(){return kc[e]},set:function(t){kc[e]=t}})},Cc=_c(kc),Oc=0;Cc.length>Oc;)Tc(Cc[Oc++]);(Sc.constructor=Rc).prototype=Sc,vt(C,"RegExp",Rc)}Pr("RegExp"),O&&("g"!=/./g.flags||yc.UNSUPPORTED_Y)&&z.f(RegExp.prototype,"flags",{configurable:!0,get:pc});var Mc="toString",Lc=RegExp.prototype,jc=Lc[Mc],Dc=g(function(){return"/a/b"!=jc.call({source:"a",flags:"b"})}),zc=jc.name!=Mc;(Dc||zc)&&vt(RegExp.prototype,Mc,function(){var t=E(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in Lc)?pc.call(t):n)},{unsafe:!0});function Nc(s){return function(t,e){var n,r,i=String(f(t)),a=nt(e),o=i.length;return a<0||o<=a?s?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===o||(r=i.charCodeAt(a+1))<56320||57343<r?s?i.charAt(a):n:s?i.slice(a,a+2):r-56320+(n-55296<<10)+65536}}var Pc=da("Set",function(e){return function(t){return e(this,arguments.length?t:void 0)}},ba),Fc={codeAt:Nc(!1),charAt:Nc(!0)},Bc=Fc.codeAt;ct({target:"String",proto:!0},{codePointAt:function(t){return Bc(this,t)}});function Uc(t){if(dc(t))throw TypeError("The method doesn't accept regular expressions");return t}function Vc(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[Wc]=!1,"/./"[e](n)}catch(t){}}return!1}var qc,Wc=Zt("match"),Kc=D.f,Zc="".endsWith,Gc=Math.min,Yc=Vc("endsWith"),Hc=!(Yc||(!(qc=Kc(String.prototype,"endsWith"))||qc.writable));ct({target:"String",proto:!0,forced:!Hc&&!Yc},{endsWith:function(t,e){var n=String(f(this));Uc(t);var r=1<arguments.length?e:void 0,i=rt(n.length),a=void 0===r?i:Gc(rt(r),i),o=String(t);return Zc?Zc.call(n,o,a):n.slice(a-o.length,a)===o}});var $c=String.fromCharCode,Qc=String.fromCodePoint,Jc=!!Qc&&1!=Qc.length;ct({target:"String",stat:!0,forced:Jc},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;i<r;){if(e=+arguments[i++],it(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?$c(e):$c(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),ct({target:"String",proto:!0,forced:!Vc("includes")},{includes:function(t,e){return!!~String(f(this)).indexOf(Uc(t),1<arguments.length?e:void 0)}});var Xc=Fc.charAt,tl="String Iterator",el=pt.set,nl=pt.getterFor(tl);hr(String,"String",function(t){el(this,{type:tl,string:String(t),index:0})},function(){var t,e=nl(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Xc(n,r),e.index+=t.length,{value:t,done:!1})});var rl,il,al=RegExp.prototype.exec,ol=String.prototype.replace,sl=al,ul=(rl=/a/,il=/b*/g,al.call(rl,"a"),al.call(il,"a"),0!==rl.lastIndex||0!==il.lastIndex),cl=yc.UNSUPPORTED_Y||yc.BROKEN_CARET,ll=void 0!==/()??/.exec("")[1];(ul||ll||cl)&&(sl=function(t){var e,n,r,i,a=this,o=cl&&a.sticky,s=pc.call(a),u=a.source,c=0,l=t;return o&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(a.lastIndex),0<a.lastIndex&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",s)),ll&&(n=new RegExp("^"+u+"$(?!\\s)",s)),ul&&(e=a.lastIndex),r=al.call(o?n:a,l),o?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:ul&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),ll&&r&&1<r.length&&ol.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});function fl(n,t,e,r){var i=Zt(n),a=!g(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),o=a&&!g(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[vl]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t});if(!a||!o||"replace"===n&&(!gl||!yl)||"split"===n&&!ml){var s=/./[i],u=e(i,""[n],function(t,e,n,r,i){return e.exec===pl?a&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:yl}),c=u[0],l=u[1];vt(String.prototype,n,c),vt(RegExp.prototype,i,2==t?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}r&&N(RegExp.prototype[i],"sham",!0)}function hl(t,e,n){return e+(n?_l(t,e).length:1)}function dl(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==d(t))throw TypeError("RegExp#exec called on incompatible receiver");return pl.call(t,e)}var pl=sl,vl=Zt("species"),gl=!g(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),yl="$0"==="a".replace(/./,"$0"),ml=!g(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),_l=Fc.charAt;fl("match",1,function(r,c,l){return[function(t){var e=f(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=l(c,t,this);if(e.done)return e.value;var n=E(t),r=String(this);if(!n.global)return dl(n,r);for(var i,a=n.unicode,o=[],s=n.lastIndex=0;null!==(i=dl(n,r));){var u=String(i[0]);""===(o[s]=u)&&(n.lastIndex=hl(r,rt(n.lastIndex),a)),s++}return 0===s?null:o}]});function wl(c){return function(t,e,n){var r,i,a=String(f(t)),o=a.length,s=void 0===n?" ":String(n),u=rt(e);return u<=o||""==s?a:(r=u-o,(i=Ho.call(s,bl(r/s.length))).length>r&&(i=i.slice(0,r)),c?a+i:i+a)}}var bl=Math.ceil,kl={start:wl(!1),end:wl(!0)},Sl=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(nn),xl=kl.end;ct({target:"String",proto:!0,forced:Sl},{padEnd:function(t,e){return xl(this,t,1<arguments.length?e:void 0)}});var El=kl.start;ct({target:"String",proto:!0,forced:Sl},{padStart:function(t,e){return El(this,t,1<arguments.length?e:void 0)}}),ct({target:"String",stat:!0},{raw:function(t){for(var e=c(t.raw),n=rt(e.length),r=arguments.length,i=[],a=0;a<n;)i.push(String(e[a++])),a<r&&i.push(String(arguments[a]));return i.join("")}}),ct({target:"String",proto:!0},{repeat:Ho});var Al=Math.max,Il=Math.min,Rl=Math.floor,Tl=/\$([$&'`]|\d\d?|<[^>]*>)/g,Cl=/\$([$&'`]|\d\d?)/g;fl("replace",2,function(i,b,k,S){return[function(t,e){var n=f(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):b.call(String(n),t,e)},function(t,e){if(S.REPLACE_KEEPS_$0||"string"==typeof e&&-1===e.indexOf("$0")){var n=k(b,t,this,e);if(n.done)return n.value}var r=E(t),i=String(this),a="function"==typeof e;a||(e=String(e));var o=r.global;if(o){var s=r.unicode;r.lastIndex=0}for(var u=[];;){var c=dl(r,i);if(null===c)break;if(u.push(c),!o)break;""===String(c[0])&&(r.lastIndex=hl(i,rt(r.lastIndex),s))}for(var l,f="",h=0,d=0;d<u.length;d++){c=u[d];for(var p=String(c[0]),v=Al(Il(nt(c.index),i.length),0),g=[],y=1;y<c.length;y++)g.push(void 0===(l=c[y])?l:String(l));var m=c.groups;if(a){var _=[p].concat(g,v,i);void 0!==m&&_.push(m);var w=String(e.apply(void 0,_))}else w=x(p,i,v,g,m,e);h<=v&&(f+=i.slice(h,v)+w,h=v+p.length)}return f+i.slice(h)}];function x(a,o,s,u,c,t){var l=s+a.length,f=u.length,e=Cl;return void 0!==c&&(c=lt(c),e=Tl),b.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return a;case"`":return o.slice(0,s);case"'":return o.slice(l);case"<":n=c[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=Rl(r/10);return 0===i?t:i<=f?void 0===u[i-1]?e.charAt(1):u[i-1]+e.charAt(1):t}n=u[r-1]}return void 0===n?"":n})}}),fl("search",1,function(r,o,s){return[function(t){var e=f(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=s(o,t,this);if(e.done)return e.value;var n=E(t),r=String(this),i=n.lastIndex;gs(i,0)||(n.lastIndex=0);var a=dl(n,r);return gs(n.lastIndex,i)||(n.lastIndex=i),null===a?-1:a.index}]});var Ol=[].push,Ml=Math.min,Ll=4294967295,jl=!g(function(){return!RegExp(Ll,"y")});fl("split",2,function(i,g,y){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(f(this)),r=void 0===e?Ll:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!dc(t))return g.call(n,t,r);for(var i,a,o,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,l=new RegExp(t.source,u+"g");(i=pl.call(l,n))&&!(c<(a=l.lastIndex)&&(s.push(n.slice(c,i.index)),1<i.length&&i.index<n.length&&Ol.apply(s,i.slice(1)),o=i[0].length,c=a,s.length>=r));)l.lastIndex===i.index&&l.lastIndex++;return c===n.length?!o&&l.test("")||s.push(""):s.push(n.slice(c)),s.length>r?s.slice(0,r):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:g.call(this,t,e)}:g,[function(t,e){var n=f(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):m.call(String(n),t,e)},function(t,e){var n=y(m,t,this,e,m!==g);if(n.done)return n.value;var r=E(t),i=String(this),a=Ji(r,RegExp),o=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(jl?"y":"g"),u=new a(jl?r:"^(?:"+r.source+")",s),c=void 0===e?Ll:e>>>0;if(0==c)return[];if(0===i.length)return null===dl(u,i)?[i]:[];for(var l=0,f=0,h=[];f<i.length;){u.lastIndex=jl?f:0;var d,p=dl(u,jl?i:i.slice(f));if(null===p||(d=Ml(rt(u.lastIndex+(jl?0:f)),i.length))===l)f=hl(i,f,o);else{if(h.push(i.slice(l,f)),h.length===c)return h;for(var v=1;v<=p.length-1;v++)if(h.push(p[v]),h.length===c)return h;f=l=d}}return h.push(i.slice(l)),h}]},!jl);var Dl,zl=D.f,Nl="".startsWith,Pl=Math.min,Fl=Vc("startsWith"),Bl=!(Fl||(!(Dl=zl(String.prototype,"startsWith"))||Dl.writable));ct({target:"String",proto:!0,forced:!Bl&&!Fl},{startsWith:function(t,e){var n=String(f(this));Uc(t);var r=rt(Pl(1<arguments.length?e:void 0,n.length)),i=String(t);return Nl?Nl.call(n,i,r):n.slice(r,r+i.length)===i}});function Ul(t){return g(function(){return!!wo[t]()||"​᠎"!="​᠎"[t]()||wo[t].name!==t})}var Vl=xo.trim;ct({target:"String",proto:!0,forced:Ul("trim")},{trim:function(){return Vl(this)}});var ql=xo.end,Wl=Ul("trimEnd"),Kl=Wl?function(){return ql(this)}:"".trimEnd;ct({target:"String",proto:!0,forced:Wl},{trimEnd:Kl,trimRight:Kl});var Zl=xo.start,Gl=Ul("trimStart"),Yl=Gl?function(){return Zl(this)}:"".trimStart;ct({target:"String",proto:!0,forced:Gl},{trimStart:Yl,trimLeft:Yl});function Hl(t,e,n,r){var i=String(f(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(Ql,"&quot;")+'"'),a+">"+i+"</"+e+">"}function $l(e){return g(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})}var Ql=/"/g;ct({target:"String",proto:!0,forced:$l("anchor")},{anchor:function(t){return Hl(this,"a","name",t)}}),ct({target:"String",proto:!0,forced:$l("big")},{big:function(){return Hl(this,"big","","")}}),ct({target:"String",proto:!0,forced:$l("blink")},{blink:function(){return Hl(this,"blink","","")}}),ct({target:"String",proto:!0,forced:$l("bold")},{bold:function(){return Hl(this,"b","","")}}),ct({target:"String",proto:!0,forced:$l("fixed")},{fixed:function(){return Hl(this,"tt","","")}}),ct({target:"String",proto:!0,forced:$l("fontcolor")},{fontcolor:function(t){return Hl(this,"font","color",t)}}),ct({target:"String",proto:!0,forced:$l("fontsize")},{fontsize:function(t){return Hl(this,"font","size",t)}}),ct({target:"String",proto:!0,forced:$l("italics")},{italics:function(){return Hl(this,"i","","")}}),ct({target:"String",proto:!0,forced:$l("link")},{link:function(t){return Hl(this,"a","href",t)}}),ct({target:"String",proto:!0,forced:$l("small")},{small:function(){return Hl(this,"small","","")}}),ct({target:"String",proto:!0,forced:$l("strike")},{strike:function(){return Hl(this,"strike","","")}}),ct({target:"String",proto:!0,forced:$l("sub")},{sub:function(){return Hl(this,"sub","","")}}),ct({target:"String",proto:!0,forced:$l("sup")},{sup:function(){return Hl(this,"sup","","")}});function Jl(t,e){var n=function(t){var e=nt(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n}function Xl(t,e,n){var r,i,a,o,s,u,c=lt(t),l=arguments.length,f=1<l?e:void 0,h=void 0!==f,d=Fn(c);if(null!=d&&!jn(d))for(u=(s=d.call(c)).next,c=[];!(o=u.call(s)).done;)c.push(o.value);for(h&&2<l&&(f=$t(f,n,2)),i=rt(c.length),a=new(af(this))(i),r=0;r<i;r++)a[r]=h?f(c[r],r):c[r];return a}var tf=_i.NATIVE_ARRAY_BUFFER_VIEWS,ef=C.ArrayBuffer,nf=C.Int8Array,rf=!tf||!g(function(){nf(1)})||!g(function(){new nf(-1)})||!$n(function(t){new nf,new nf(null),new nf(1.5),new nf(t)},!0)||g(function(){return 1!==new nf(new ef(2),1,void 0).length}),af=_i.aTypedArrayConstructor,of=e(function(t){function p(t,e){for(var n=0,r=e.length,i=new(o(t))(r);n<r;)i[n]=e[n++];return i}function e(t,e){m(t,e,{get:function(){return g(this)[e]}})}function v(t){var e;return t instanceof b||"ArrayBuffer"==(e=Wn(t))||"SharedArrayBuffer"==e}function r(t,e){return I(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)}function n(t,e){return r(t,e=l(e,!0))?M(2,t[e]):a(t,e)}function i(t,e,n){return!(r(t,e=l(e,!0))&&L(n)&&j(n,"value"))||j(n,"get")||j(n,"set")||n.configurable||j(n,"writable")&&!n.writable||j(n,"enumerable")&&!n.enumerable?m(t,e,n):(t[e]=n.value,t)}var u=At.f,c=ye.forEach,g=pt.get,y=pt.set,m=z.f,a=D.f,_=Math.round,w=C.RangeError,b=Yi.ArrayBuffer,k=Yi.DataView,S=_i.NATIVE_ARRAY_BUFFER_VIEWS,x=_i.TYPED_ARRAY_TAG,E=_i.TypedArray,A=_i.TypedArrayPrototype,o=_i.aTypedArrayConstructor,I=_i.isTypedArray,R="BYTES_PER_ELEMENT",T="Wrong length";O?(S||(D.f=n,z.f=i,e(A,"buffer"),e(A,"byteOffset"),e(A,"byteLength"),e(A,"length")),ct({target:"Object",stat:!0,forced:!S},{getOwnPropertyDescriptor:n,defineProperty:i}),t.exports=function(t,e,a){function l(t,i){m(t,i,{get:function(){return t=i,(e=g(this)).view[n](t*f+e.byteOffset,!0);var t,e},set:function(t){return e=i,n=t,r=g(this),a&&(n=(n=_(n))<0?0:255<n?255:255&n),void r.view[o](e*f+r.byteOffset,n,!0);var e,n,r},enumerable:!0})}var f=t.match(/\d+$/)[0]/8,h=t+(a?"Clamped":"")+"Array",n="get"+t,o="set"+t,i=C[h],d=i,r=d&&d.prototype,s={};S?rf&&(d=e(function(t,e,n,r){return ui(t,d,h),ha(L(e)?v(e)?void 0!==r?new i(e,Jl(n,f),r):void 0!==n?new i(e,Jl(n,f)):new i(e):I(e)?p(d,e):Xl.call(d,e):new i(ci(e)),t,d)}),vr&&vr(d,E),c(u(i),function(t){t in d||N(d,t,i[t])}),d.prototype=r):(d=e(function(t,e,n,r){ui(t,d,h);var i,a,o,s=0,u=0;if(L(e)){if(!v(e))return I(e)?p(d,e):Xl.call(d,e);i=e,u=Jl(n,f);var c=e.byteLength;if(void 0===r){if(c%f)throw w(T);if((a=c-u)<0)throw w(T)}else if(c<(a=rt(r)*f)+u)throw w(T);o=a/f}else o=ci(e),i=new b(a=o*f);for(y(t,{buffer:i,byteOffset:u,byteLength:a,length:o,view:new k(i)});s<o;)l(t,s++)}),vr&&vr(d,E),r=d.prototype=re(A)),r.constructor!==d&&N(r,"constructor",d),x&&N(r,x,h),s[h]=d,ct({global:!0,forced:d!=i,sham:!S},s),R in d||N(d,R,f),R in r||N(r,R,f),Pr(h)}):t.exports=function(){}});of("Float32",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Float64",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Int8",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Int16",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Int32",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}},!0),of("Uint16",function(r){return function(t,e,n){return r(this,t,e,n)}}),of("Uint32",function(r){return function(t,e,n){return r(this,t,e,n)}});var sf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("copyWithin",function(t,e,n){return yn.call(sf(this),t,e,2<arguments.length?n:void 0)});var uf=ye.every,cf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("every",function(t,e){return uf(cf(this),t,1<arguments.length?e:void 0)});var lf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("fill",function(t){return bn.apply(lf(this),arguments)});var ff=ye.filter,hf=_i.aTypedArray,df=_i.aTypedArrayConstructor;(0,_i.exportTypedArrayMethod)("filter",function(t,e){for(var n=ff(hf(this),t,1<arguments.length?e:void 0),r=Ji(this,this.constructor),i=0,a=n.length,o=new(df(r))(a);i<a;)o[i]=n[i++];return o});var pf=ye.find,vf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("find",function(t,e){return pf(vf(this),t,1<arguments.length?e:void 0)});var gf=ye.findIndex,yf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("findIndex",function(t,e){return gf(yf(this),t,1<arguments.length?e:void 0)});var mf=ye.forEach,_f=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("forEach",function(t,e){mf(_f(this),t,1<arguments.length?e:void 0)}),(0,_i.exportTypedArrayStaticMethod)("from",Xl,rf);var wf=kt.includes,bf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("includes",function(t,e){return wf(bf(this),t,1<arguments.length?e:void 0)});var kf=kt.indexOf,Sf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("indexOf",function(t,e){return kf(Sf(this),t,1<arguments.length?e:void 0)});function xf(){return If.call(Cf(this))}var Ef=Zt("iterator"),Af=C.Uint8Array,If=xr.values,Rf=xr.keys,Tf=xr.entries,Cf=_i.aTypedArray,Of=_i.exportTypedArrayMethod,Mf=Af&&Af.prototype[Ef],Lf=!!Mf&&("values"==Mf.name||null==Mf.name);Of("entries",function(){return Tf.call(Cf(this))}),Of("keys",function(){return Rf.call(Cf(this))}),Of("values",xf,!Lf),Of(Ef,xf,!Lf);var jf=_i.aTypedArray,Df=[].join;(0,_i.exportTypedArrayMethod)("join",function(t){return Df.apply(jf(this),arguments)});var zf=Math.min,Nf=[].lastIndexOf,Pf=!!Nf&&1/[1].lastIndexOf(1,-0)<0,Ff=Er("lastIndexOf"),Bf=Pf||Ff?function(t,e){if(Pf)return Nf.apply(this,arguments)||0;var n=c(this),r=rt(n.length),i=r-1;for(1<arguments.length&&(i=zf(i,nt(e))),i<0&&(i=r+i);0<=i;i--)if(i in n&&n[i]===t)return i||0;return-1}:Nf,Uf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("lastIndexOf",function(t){return Bf.apply(Uf(this),arguments)});var Vf=ye.map,qf=_i.aTypedArray,Wf=_i.aTypedArrayConstructor;(0,_i.exportTypedArrayMethod)("map",function(t,e){return Vf(qf(this),t,1<arguments.length?e:void 0,function(t,e){return new(Wf(Ji(t,t.constructor)))(e)})});var Kf=_i.aTypedArrayConstructor;(0,_i.exportTypedArrayStaticMethod)("of",function(){for(var t=0,e=arguments.length,n=new(Kf(this))(e);t<e;)n[t]=arguments[t++];return n},rf);function Zf(c){return function(t,e,n,r){Ht(e);var i=lt(t),a=w(i),o=rt(i.length),s=c?o-1:0,u=c?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=u;break}if(s+=u,c?s<0:o<=s)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=s:s<o;s+=u)s in a&&(r=e(r,a[s],s,i));return r}}var Gf={left:Zf(!1),right:Zf(!0)},Yf=Gf.left,Hf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("reduce",function(t,e){return Yf(Hf(this),t,arguments.length,1<arguments.length?e:void 0)});var $f=Gf.right,Qf=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("reduceRight",function(t,e){return $f(Qf(this),t,arguments.length,1<arguments.length?e:void 0)});var Jf=_i.aTypedArray,Xf=_i.exportTypedArrayMethod,th=Math.floor;Xf("reverse",function(){for(var t,e=this,n=Jf(e).length,r=th(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e});var eh=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("set",function(t,e){eh(this);var n=Jl(1<arguments.length?e:void 0,1),r=this.length,i=lt(t),a=rt(i.length),o=0;if(r<a+n)throw RangeError("Wrong length");for(;o<a;)this[n+o]=i[o++]},g(function(){new Int8Array(1).set({})}));var nh=_i.aTypedArray,rh=_i.aTypedArrayConstructor,ih=[].slice;(0,_i.exportTypedArrayMethod)("slice",function(t,e){for(var n=ih.call(nh(this),t,e),r=Ji(this,this.constructor),i=0,a=n.length,o=new(rh(r))(a);i<a;)o[i]=n[i++];return o},g(function(){new Int8Array(1).slice()}));var ah=ye.some,oh=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("some",function(t,e){return ah(oh(this),t,1<arguments.length?e:void 0)});var sh=_i.aTypedArray,uh=[].sort;(0,_i.exportTypedArrayMethod)("sort",function(t){return uh.call(sh(this),t)});var ch=_i.aTypedArray;(0,_i.exportTypedArrayMethod)("subarray",function(t,e){var n=ch(this),r=n.length,i=it(t,r);return new(Ji(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,rt((void 0===e?r:it(e,r))-i))});var lh=C.Int8Array,fh=_i.aTypedArray,hh=_i.exportTypedArrayMethod,dh=[].toLocaleString,ph=[].slice,vh=!!lh&&g(function(){dh.call(new lh(1))});hh("toLocaleString",function(){return dh.apply(vh?ph.call(fh(this)):fh(this),arguments)},g(function(){return[1,2].toLocaleString()!=new lh([1,2]).toLocaleString()})||!g(function(){lh.prototype.toLocaleString.call([1,2])}));var gh=_i.exportTypedArrayMethod,yh=C.Uint8Array,mh=yh&&yh.prototype||{},_h=[].toString,wh=[].join;g(function(){_h.call({})})&&(_h=function(){return wh.call(this)}),gh("toString",_h,mh.toString!=_h);function bh(t){return t.frozen||(t.frozen=new Th)}function kh(t,e){return Ah(t.entries,function(t){return t[0]===e})}var Sh=va.getWeakData,xh=pt.set,Eh=pt.getterFor,Ah=ye.find,Ih=ye.findIndex,Rh=0,Th=function(){this.entries=[]};Th.prototype={get:function(t){var e=kh(this,t);if(e)return e[1]},has:function(t){return!!kh(this,t)},set:function(t,e){var n=kh(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(e){var t=Ih(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var Ch={getConstructor:function(t,n,r,i){function a(t,e,n){var r=s(t),i=Sh(E(e),!0);return!0===i?bh(r).set(e,n):i[r.id]=n,t}var o=t(function(t,e){ui(t,o,n),xh(t,{type:n,id:Rh++,frozen:void 0}),null!=e&&ga(e,t[i],t,r)}),s=Eh(n);return si(o.prototype,{delete:function(t){var e=s(this);if(!L(t))return!1;var n=Sh(t);return!0===n?bh(e).delete(t):n&&j(n,e.id)&&delete n[e.id]},has:function(t){var e=s(this);if(!L(t))return!1;var n=Sh(t);return!0===n?bh(e).has(t):n&&j(n,e.id)}}),si(o.prototype,r?{get:function(t){var e=s(this);if(L(t)){var n=Sh(t);return!0===n?bh(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},Oh=e(function(t){function e(e){return function(t){return e(this,arguments.length?t:void 0)}}var r,i=pt.enforce,n=!C.ActiveXObject&&"ActiveXObject"in C,a=Object.isExtensible,o=t.exports=da("WeakMap",e,Ch);if(U&&n){r=Ch.getConstructor(e,"WeakMap",!0),va.REQUIRED=!0;var s=o.prototype,u=s.delete,c=s.has,l=s.get,f=s.set;si(s,{delete:function(t){if(!L(t)||a(t))return u.call(this,t);var e=i(this);return e.frozen||(e.frozen=new r),u.call(this,t)||e.frozen.delete(t)},has:function(t){if(!L(t)||a(t))return c.call(this,t);var e=i(this);return e.frozen||(e.frozen=new r),c.call(this,t)||e.frozen.has(t)},get:function(t){if(!L(t)||a(t))return l.call(this,t);var e=i(this);return e.frozen||(e.frozen=new r),c.call(this,t)?l.call(this,t):e.frozen.get(t)},set:function(t,e){if(L(t)&&!a(t)){var n=i(this);n.frozen||(n.frozen=new r),c.call(this,t)?f.call(this,t,e):n.frozen.set(t,e)}else f.call(this,t,e);return this}})}});da("WeakSet",function(e){return function(t){return e(this,arguments.length?t:void 0)}},Ch);var Mh=pt.set,Lh=pt.getterFor("AggregateError"),jh=function(t,e){var n=this;if(!(n instanceof jh))return new jh(t,e);vr&&(n=vr(new Error(e),ar(n)));var r=[];return ga(t,r.push,r),O?Mh(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&N(n,"message",String(e)),n};jh.prototype=re(Error.prototype,{constructor:M(5,jh),message:M(5,""),name:M(5,"AggregateError")}),O&&z.f(jh.prototype,"errors",{get:function(){return Lh(this).errors},configurable:!0}),ct({global:!0},{AggregateError:jh});var Dh=z.f;!O||"lastIndex"in[]||(Dh(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=lt(this),e=rt(t.length);return 0==e?0:e-1}}),wn("lastIndex"));var zh=z.f;!O||"lastItem"in[]||(zh(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=lt(this),e=rt(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=lt(this),n=rt(e.length);return e[0==n?0:n-1]=t}}),wn("lastItem"));function Nh(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=re(null)}Nh.prototype.get=function(t,e){return this[t]||(this[t]=e())},Nh.prototype.next=function(t,e,n){var r=n?this.objectsByIndex[t]||(this.objectsByIndex[t]=new Oh):this.primitives||(this.primitives=new ka),i=r.get(e);return i||r.set(e,i=new Nh),i};function Ph(){var t,e,n=Bh,r=arguments.length;for(t=0;t<r;t++)L(e=arguments[t])&&(n=n.next(t,e,!0));if(this===Object&&n===Bh)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<r;t++)L(e=arguments[t])||(n=n.next(t,e,!1));return n}function Fh(){var t=et("Object","freeze");return t?t(re(null)):re(null)}var Bh=new Nh;ct({global:!0},{compositeKey:function(){return Ph.apply(Object,arguments).get("object",Fh)}}),ct({global:!0},{compositeSymbol:function(t){return 1===arguments.length&&"string"==typeof t?et("Symbol").for(t):Ph.apply(null,arguments).get("symbol",et("Symbol"))}}),ct({global:!0},{globalThis:C});function Uh(){for(var t,e=E(this),n=Ht(e.delete),r=!0,i=0,a=arguments.length;i<a;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}ct({target:"Map",proto:!0,real:!0,forced:V},{deleteAll:function(){return Uh.apply(this,arguments)}});function Vh(t){var e=Fn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return E(e.call(t))}function qh(t){return Map.prototype.entries.call(t)}ct({target:"Map",proto:!0,real:!0,forced:V},{every:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3);return!ga(r,function(t,e){if(!i(e,t,n))return ga.stop()},void 0,!0,!0).stopped}}),ct({target:"Map",proto:!0,real:!0,forced:V},{filter:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3),a=new(Ji(n,et("Map"))),o=Ht(a.set);return ga(r,function(t,e){i(e,t,n)&&o.call(a,t,e)},void 0,!0,!0),a}}),ct({target:"Map",proto:!0,real:!0,forced:V},{find:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3);return ga(r,function(t,e){if(i(e,t,n))return ga.stop(e)},void 0,!0,!0).result}}),ct({target:"Map",proto:!0,real:!0,forced:V},{findKey:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3);return ga(r,function(t,e){if(i(e,t,n))return ga.stop(t)},void 0,!0,!0).result}});function Wh(t,e,n){var r,i,a,o,s=arguments.length,u=1<s?e:void 0;return Ht(this),(r=void 0!==u)&&Ht(u),null==t?new this:(i=[],r?(a=0,o=$t(u,2<s?n:void 0,2),ga(t,function(t){i.push(o(t,a++))})):ga(t,i.push,i),new this(i))}ct({target:"Map",stat:!0},{from:Wh}),ct({target:"Map",stat:!0},{groupBy:function(t,n){var r=new this;Ht(n);var i=Ht(r.has),a=Ht(r.get),o=Ht(r.set);return ga(t,function(t){var e=n(t);i.call(r,e)?a.call(r,e).push(t):o.call(r,e,[t])}),r}});ct({target:"Map",proto:!0,real:!0,forced:V},{includes:function(i){return ga(qh(E(this)),function(t,e){if((n=e)===(r=i)||n!=n&&r!=r)return ga.stop();var n,r},void 0,!0,!0).stopped}}),ct({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;Ht(e);var r=Ht(n.set);return ga(t,function(t){r.call(n,e(t),t)}),n}}),ct({target:"Map",proto:!0,real:!0,forced:V},{keyOf:function(n){return ga(qh(E(this)),function(t,e){if(e===n)return ga.stop(t)},void 0,!0,!0).result}}),ct({target:"Map",proto:!0,real:!0,forced:V},{mapKeys:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3),a=new(Ji(n,et("Map"))),o=Ht(a.set);return ga(r,function(t,e){o.call(a,i(e,t,n),e)},void 0,!0,!0),a}}),ct({target:"Map",proto:!0,real:!0,forced:V},{mapValues:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3),a=new(Ji(n,et("Map"))),o=Ht(a.set);return ga(r,function(t,e){o.call(a,t,i(e,t,n))},void 0,!0,!0),a}}),ct({target:"Map",proto:!0,real:!0,forced:V},{merge:function(t){for(var e=E(this),n=Ht(e.set),r=0;r<arguments.length;)ga(arguments[r++],n,e,!0);return e}});function Kh(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}ct({target:"Map",stat:!0},{of:Kh}),ct({target:"Map",proto:!0,real:!0,forced:V},{reduce:function(n,t){var r=E(this),e=qh(r),i=arguments.length<2,a=i?void 0:t;if(Ht(n),ga(e,function(t,e){a=i?(i=!1,e):n(a,e,t,r)},void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return a}}),ct({target:"Map",proto:!0,real:!0,forced:V},{some:function(t,e){var n=E(this),r=qh(n),i=$t(t,1<arguments.length?e:void 0,3);return ga(r,function(t,e){if(i(e,t,n))return ga.stop()},void 0,!0,!0).stopped}}),ct({target:"Map",proto:!0,real:!0,forced:V},{update:function(t,e,n){var r=E(this),i=arguments.length;Ht(e);var a=r.has(t);if(!a&&i<3)throw TypeError("Updating absent value");var o=a?r.get(t):Ht(2<i?n:void 0)(t,r);return r.set(t,e(o,t,r)),r}});var Zh=Math.min,Gh=Math.max;ct({target:"Math",stat:!0},{clamp:function(t,e,n){return Zh(n,Gh(e,t))}}),ct({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180});var Yh=180/Math.PI;ct({target:"Math",stat:!0},{degrees:function(t){return t*Yh}});var Hh=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r};ct({target:"Math",stat:!0},{fscale:function(t,e,n,r,i){return Xa(Hh(t,e,n,r,i))}}),ct({target:"Math",stat:!0},{iaddh:function(t,e,n,r){var i=t>>>0,a=n>>>0;return(e>>>0)+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}}),ct({target:"Math",stat:!0},{imulh:function(t,e){var n=+t,r=+e,i=65535&n,a=65535&r,o=n>>16,s=r>>16,u=(o*a>>>0)+(i*a>>>16);return o*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}}),ct({target:"Math",stat:!0},{isubh:function(t,e,n,r){var i=t>>>0,a=n>>>0;return(e>>>0)-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}}),ct({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI});var $h=Math.PI/180;ct({target:"Math",stat:!0},{radians:function(t){return t*$h}}),ct({target:"Math",stat:!0},{scale:Hh});var Qh="Seeded Random",Jh=Qh+" Generator",Xh=pt.set,td=pt.getterFor(Jh),ed=cr(function(t){Xh(this,{type:Jh,seed:t%2147483647})},Qh,function(){var t=td(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}});ct({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=E(t).seed;if(!Po(e))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new ed(e)}}),ct({target:"Math",stat:!0},{signbit:function(t){return(t=+t)==t&&0==t?1/t==-1/0:t<0}}),ct({target:"Math",stat:!0},{umulh:function(t,e){var n=+t,r=+e,i=65535&n,a=65535&r,o=n>>>16,s=r>>>16,u=(o*a>>>0)+(i*a>>>16);return o*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}});var nd="Invalid number representation",rd=/^[\da-z]+$/;ct({target:"Number",stat:!0},{fromString:function(t,e){var n,r,i=1;if("string"!=typeof t)throw TypeError(nd);if(!t.length)throw SyntaxError(nd);if("-"==t.charAt(0)&&(i=-1,!(t=t.slice(1)).length))throw SyntaxError(nd);if((n=void 0===e?10:nt(e))<2||36<n)throw RangeError("Invalid radix");if(!rd.test(t)||(r=Yo(t,n)).toString(n)!==t)throw SyntaxError(nd);return i*r}});function id(t){return null==t?void 0:Ht(t)}function ad(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){yu(t)}}}function od(t){return void 0===t.observer}function sd(t,e){if(!O){t.closed=!0;var n=e.subscriptionObserver;n&&(n.closed=!0)}e.observer=void 0}function ud(t,e){var n,r=hd(this,{cleanup:void 0,observer:E(t),subscriptionObserver:void 0});O||(this.closed=!1);try{(n=id(t.start))&&n.call(t,this)}catch(t){yu(t)}if(!od(r)){var i=r.subscriptionObserver=new dd(this);try{var a=e(i),o=a;null!=a&&(r.cleanup="function"==typeof a.unsubscribe?function(){o.unsubscribe()}:Ht(a))}catch(t){return void i.error(t)}od(r)&&ad(r)}}var cd=z.f,ld=Zt("observable"),fd=pt.get,hd=pt.set;ud.prototype=si({},{unsubscribe:function(){var t=fd(this);od(t)||(sd(this,t),ad(t))}}),O&&cd(ud.prototype,"closed",{configurable:!0,get:function(){return od(fd(this))}});var dd=function(t){hd(this,{subscription:t}),O||(this.closed=!1)};dd.prototype=si({},{next:function(t){var e=fd(fd(this).subscription);if(!od(e)){var n=e.observer;try{var r=id(n.next);r&&r.call(n,t)}catch(t){yu(t)}}},error:function(t){var e=fd(this).subscription,n=fd(e);if(!od(n)){var r=n.observer;sd(e,n);try{var i=id(r.error);i?i.call(r,t):yu(t)}catch(t){yu(t)}ad(n)}},complete:function(){var t=fd(this).subscription,e=fd(t);if(!od(e)){var n=e.observer;sd(t,e);try{var r=id(n.complete);r&&r.call(n)}catch(t){yu(t)}ad(e)}}}),O&&cd(dd.prototype,"closed",{configurable:!0,get:function(){return od(fd(fd(this).subscription))}});var pd=function(t){ui(this,pd,"Observable"),hd(this,{subscriber:Ht(t)})};si(pd.prototype,{subscribe:function(t,e,n){var r=arguments.length;return new ud("function"==typeof t?{next:t,error:1<r?e:void 0,complete:2<r?n:void 0}:L(t)?t:{},fd(this).subscriber)}}),si(pd,{from:function(t){var e="function"==typeof this?this:pd,n=id(E(t)[ld]);if(n){var r=E(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}var i=Vh(t);return new e(function(e){ga(i,function(t){if(e.next(t),e.closed)return ga.stop()},void 0,!1,!0),e.complete()})},of:function(){for(var t="function"==typeof this?this:pd,n=arguments.length,r=new Array(n),e=0;e<n;)r[e]=arguments[e++];return new t(function(t){for(var e=0;e<n;e++)if(t.next(r[e]),t.closed)return;t.complete()})}}),N(pd.prototype,ld,function(){return this}),ct({global:!0},{Observable:pd}),Pr("Observable"),ct({target:"Promise",stat:!0},{allSettled:function(t){var s=this,e=Tu.f(s),u=e.resolve,n=e.reject,r=mu(function(){var r=Ht(s.resolve),i=[],a=0,o=1;ga(t,function(t){var e=a++,n=!1;i.push(void 0),o++,r.call(s,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--o||u(i))},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--o||u(i))})}),--o||u(i)});return r.error&&n(r.value),e.promise}});var vd="No one promise resolved";ct({target:"Promise",stat:!0},{any:function(t){var u=this,e=Tu.f(u),c=e.resolve,l=e.reject,n=mu(function(){var r=Ht(u.resolve),i=[],a=0,o=1,s=!1;ga(t,function(t){var e=a++,n=!1;i.push(void 0),o++,r.call(u,t).then(function(t){n||s||(s=!0,c(t))},function(t){n||s||(n=!0,i[e]=t,--o||l(new(et("AggregateError"))(i,vd)))})}),--o||l(new(et("AggregateError"))(i,vd))});return n.error&&l(n.value),e.promise}}),ct({target:"Promise",stat:!0},{try:function(t){var e=Tu.f(this),n=mu(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});function gd(t,e,n){var r=md.get(t);if(!r){if(!n)return;md.set(t,r=new ka)}var i=r.get(e);if(!i){if(!n)return;r.set(e,i=new ka)}return i}var yd=q("metadata"),md=yd.store||(yd.store=new Oh),_d={store:md,getMap:gd,has:function(t,e,n){var r=gd(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=gd(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){gd(n,r,!0).set(t,e)},keys:function(t,e){var n=gd(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}},wd=_d.toKey,bd=_d.set;ct({target:"Reflect",stat:!0},{defineMetadata:function(t,e,n,r){var i=arguments.length<4?void 0:wd(r);bd(t,e,E(n),i)}});var kd=_d.toKey,Sd=_d.getMap,xd=_d.store;ct({target:"Reflect",stat:!0},{deleteMetadata:function(t,e,n){var r=arguments.length<3?void 0:kd(n),i=Sd(E(e),r,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var a=xd.get(e);return a.delete(r),!!a.size||xd.delete(e)}});var Ed=_d.has,Ad=_d.get,Id=_d.toKey,Rd=function(t,e,n){if(Ed(t,e,n))return Ad(t,e,n);var r=ar(e);return null!==r?Rd(t,r,n):void 0};ct({target:"Reflect",stat:!0},{getMetadata:function(t,e,n){var r=arguments.length<3?void 0:Id(n);return Rd(t,E(e),r)}});var Td=_d.keys,Cd=_d.toKey,Od=function(t,e){var n=Td(t,e),r=ar(t);if(null===r)return n;var i,a,o=Od(r,e);return o.length?n.length?(i=new Pc(n.concat(o)),ga(i,(a=[]).push,a),a):o:n};ct({target:"Reflect",stat:!0},{getMetadataKeys:function(t,e){var n=arguments.length<2?void 0:Cd(e);return Od(E(t),n)}});var Md=_d.get,Ld=_d.toKey;ct({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e,n){var r=arguments.length<3?void 0:Ld(n);return Md(t,E(e),r)}});var jd=_d.keys,Dd=_d.toKey;ct({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t,e){var n=arguments.length<2?void 0:Dd(e);return jd(E(t),n)}});var zd=_d.has,Nd=_d.toKey,Pd=function(t,e,n){if(zd(t,e,n))return!0;var r=ar(e);return null!==r&&Pd(t,r,n)};ct({target:"Reflect",stat:!0},{hasMetadata:function(t,e,n){var r=arguments.length<3?void 0:Nd(n);return Pd(t,E(e),r)}});var Fd=_d.has,Bd=_d.toKey;ct({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e,n){var r=arguments.length<3?void 0:Bd(n);return Fd(t,E(e),r)}});var Ud=_d.toKey,Vd=_d.set;ct({target:"Reflect",stat:!0},{metadata:function(n,r){return function(t,e){Vd(n,r,E(t),Ud(e))}}});function qd(){for(var t=E(this),e=Ht(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}ct({target:"Set",proto:!0,real:!0,forced:V},{addAll:function(){return qd.apply(this,arguments)}}),ct({target:"Set",proto:!0,real:!0,forced:V},{deleteAll:function(){return Uh.apply(this,arguments)}}),ct({target:"Set",proto:!0,real:!0,forced:V},{difference:function(t){var e=E(this),n=new(Ji(e,et("Set")))(e),r=Ht(n.delete);return ga(t,function(t){r.call(n,t)}),n}});function Wd(t){return Set.prototype.values.call(t)}ct({target:"Set",proto:!0,real:!0,forced:V},{every:function(t,e){var n=E(this),r=Wd(n),i=$t(t,1<arguments.length?e:void 0,3);return!ga(r,function(t){if(!i(t,t,n))return ga.stop()},void 0,!1,!0).stopped}}),ct({target:"Set",proto:!0,real:!0,forced:V},{filter:function(t,e){var n=E(this),r=Wd(n),i=$t(t,1<arguments.length?e:void 0,3),a=new(Ji(n,et("Set"))),o=Ht(a.add);return ga(r,function(t){i(t,t,n)&&o.call(a,t)},void 0,!1,!0),a}}),ct({target:"Set",proto:!0,real:!0,forced:V},{find:function(t,e){var n=E(this),r=Wd(n),i=$t(t,1<arguments.length?e:void 0,3);return ga(r,function(t){if(i(t,t,n))return ga.stop(t)},void 0,!1,!0).result}}),ct({target:"Set",stat:!0},{from:Wh}),ct({target:"Set",proto:!0,real:!0,forced:V},{intersection:function(t){var e=E(this),n=new(Ji(e,et("Set"))),r=Ht(e.has),i=Ht(n.add);return ga(t,function(t){r.call(e,t)&&i.call(n,t)}),n}}),ct({target:"Set",proto:!0,real:!0,forced:V},{isDisjointFrom:function(t){var e=E(this),n=Ht(e.has);return!ga(t,function(t){if(!0===n.call(e,t))return ga.stop()}).stopped}}),ct({target:"Set",proto:!0,real:!0,forced:V},{isSubsetOf:function(t){var e=Vh(this),n=E(t),r=n.has;return"function"!=typeof r&&(n=new(et("Set"))(t),r=Ht(n.has)),!ga(e,function(t){if(!1===r.call(n,t))return ga.stop()},void 0,!1,!0).stopped}}),ct({target:"Set",proto:!0,real:!0,forced:V},{isSupersetOf:function(t){var e=E(this),n=Ht(e.has);return!ga(t,function(t){if(!1===n.call(e,t))return ga.stop()}).stopped}}),ct({target:"Set",proto:!0,real:!0,forced:V},{join:function(t){var e=E(this),n=Wd(e),r=void 0===t?",":String(t),i=[];return ga(n,i.push,i,!1,!0),i.join(r)}}),ct({target:"Set",proto:!0,real:!0,forced:V},{map:function(t,e){var n=E(this),r=Wd(n),i=$t(t,1<arguments.length?e:void 0,3),a=new(Ji(n,et("Set"))),o=Ht(a.add);return ga(r,function(t){o.call(a,i(t,t,n))},void 0,!1,!0),a}}),ct({target:"Set",stat:!0},{of:Kh}),ct({target:"Set",proto:!0,real:!0,forced:V},{reduce:function(e,t){var n=E(this),r=Wd(n),i=arguments.length<2,a=i?void 0:t;if(Ht(e),ga(r,function(t){a=i?(i=!1,t):e(a,t,t,n)},void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return a}}),ct({target:"Set",proto:!0,real:!0,forced:V},{some:function(t,e){var n=E(this),r=Wd(n),i=$t(t,1<arguments.length?e:void 0,3);return ga(r,function(t){if(i(t,t,n))return ga.stop()},void 0,!1,!0).stopped}}),ct({target:"Set",proto:!0,real:!0,forced:V},{symmetricDifference:function(t){var e=E(this),n=new(Ji(e,et("Set")))(e),r=Ht(n.delete),i=Ht(n.add);return ga(t,function(t){r.call(n,t)||i.call(n,t)}),n}}),ct({target:"Set",proto:!0,real:!0,forced:V},{union:function(t){var e=E(this),n=new(Ji(e,et("Set")))(e);return ga(t,Ht(n.add),n),n}});var Kd=Fc.charAt;ct({target:"String",proto:!0},{at:function(t){return Kd(this,t)}});var Zd=Fc.codeAt,Gd=Fc.charAt,Yd="String Iterator",Hd=pt.set,$d=pt.getterFor(Yd),Qd=cr(function(t){Hd(this,{type:Yd,string:t,index:0})},"String",function(){var t,e=$d(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Gd(n,r),e.index+=t.length,{value:{codePoint:Zd(t,0),position:r},done:!1})});ct({target:"String",proto:!0},{codePoints:function(){return new Qd(String(f(this)))}});function Jd(t){var e,n,r,i,a,o,s=E(this),u=String(t);return e=Ji(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in ip)&&(n=pc.call(s)),r=void 0===n?"":String(n),i=new e(e===RegExp?s.source:s,r),a=!!~r.indexOf("g"),o=!!~r.indexOf("u"),i.lastIndex=rt(s.lastIndex),new up(i,u,a,o)}var Xd=Zt("matchAll"),tp="RegExp String",ep=tp+" Iterator",np=pt.set,rp=pt.getterFor(ep),ip=RegExp.prototype,ap=ip.exec,op="".matchAll,sp=!!op&&!g(function(){"a".matchAll(/./)}),up=cr(function(t,e,n,r){np(this,{type:ep,regexp:t,string:e,global:n,unicode:r,done:!1})},tp,function(){var t=rp(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"!=typeof r)return ap.call(t,e);if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=hl(n,rt(e.lastIndex),t.unicode)),{value:r,done:!1}):{value:r,done:!(t.done=!0)}});ct({target:"String",proto:!0,forced:sp},{matchAll:function(t){var e,n,r=f(this);if(null!=t){if(dc(t)&&!~String(f("flags"in ip?t.flags:pc.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(sp)return op.apply(r,arguments);if(null!=(n=t[Xd]))return Ht(n).call(t,r)}else if(sp)return op.apply(r,arguments);return e=String(r),new RegExp(t,"g")[Xd](e)}}),Xd in ip||N(ip,Xd,Jd);var cp=Zt("replace"),lp=RegExp.prototype;ct({target:"String",proto:!0},{replaceAll:function t(e,n){var r,i,a,o,s,u,c,l=f(this);if(null!=e){if(dc(e)&&!~String(f("flags"in lp?e.flags:pc.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(r=e[cp]))return r.call(e,l,n)}if(i=String(l),""===(a=String(e)))return t.call(i,/(?:)/g,n);if(o=i.split(a),"function"!=typeof n)return o.join(String(n));for(u=(s=o[0]).length,c=1;c<o.length;c++)s+=String(n(a,u,i)),u+=a.length+o[c].length,s+=o[c];return s}}),Gt("dispose"),Gt("observable"),Gt("patternMatch"),ct({target:"WeakMap",proto:!0,real:!0,forced:V},{deleteAll:function(){return Uh.apply(this,arguments)}}),ct({target:"WeakMap",stat:!0},{from:Wh}),ct({target:"WeakMap",stat:!0},{of:Kh}),ct({target:"WeakSet",proto:!0,real:!0,forced:V},{addAll:function(){return qd.apply(this,arguments)}}),ct({target:"WeakSet",proto:!0,real:!0,forced:V},{deleteAll:function(){return Uh.apply(this,arguments)}}),ct({target:"WeakSet",stat:!0},{from:Wh}),ct({target:"WeakSet",stat:!0},{of:Kh});var fp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hp=ye.forEach,dp=Er("forEach")?function(t,e){return hp(this,t,1<arguments.length?e:void 0)}:[].forEach;for(var pp in fp){var vp=C[pp],gp=vp&&vp.prototype;if(gp&&gp.forEach!==dp)try{N(gp,"forEach",dp)}catch(t){gp.forEach=dp}}var yp=Zt("iterator"),mp=Zt("toStringTag"),_p=xr.values;for(var wp in fp){var bp=C[wp],kp=bp&&bp.prototype;if(kp){if(kp[yp]!==_p)try{N(kp,yp,_p)}catch(t){kp[yp]=_p}if(kp[mp]||N(kp,mp,wp),fp[wp])for(var Sp in xr)if(kp[Sp]!==xr[Sp])try{N(kp,Sp,xr[Sp])}catch(t){kp[Sp]=xr[Sp]}}}var xp=!C.setImmediate||!C.clearImmediate;ct({global:!0,bind:!0,enumerable:!0,forced:xp},{setImmediate:ou.set,clearImmediate:ou.clear});var Ep=C.process,Ap="process"==d(Ep);ct({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=Ap&&Ep.domain;Ru(e?e.bind(t):t)}});function Ip(t){return t+22+75*(t<26)}function Rp(t,e,n){var r=0;for(t=n?qp(t/700):t>>1,t+=qp(t/e);455<t;r+=36)t=qp(t/35);return qp(r+36*t/(t+38))}function Tp(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(55296<=i&&i<=56319&&n<r){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,a=128,o=0,s=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(Wp(n));var u=r.length,c=u;for(u&&r.push("-");c<i;){var l=Fp;for(e=0;e<t.length;e++)a<=(n=t[e])&&n<l&&(l=n);var f=c+1;if(l-a>qp((Fp-o)/f))throw RangeError(Vp);for(o+=(l-a)*f,a=l,e=0;e<t.length;e++){if((n=t[e])<a&&++o>Fp)throw RangeError(Vp);if(n==a){for(var h=o,d=36;;d+=36){var p=d<=s?1:s+26<=d?26:d-s;if(h<p)break;var v=h-p,g=36-p;r.push(Wp(Ip(p+v%g))),h=qp(v/g)}r.push(Wp(Ip(h))),s=Rp(o,f,c==u),o=0,++c}}++o,++a}return r.join("")}function Cp(e){try{return decodeURIComponent(e)}catch(t){return e}}function Op(t){var e,n=t.replace(Xp," "),r=4;try{return decodeURIComponent(n)}catch(t){for(;r;)n=n.replace((e=r--,tv[e-1]||(tv[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),Cp);return n}}function Mp(t){return nv[t]}function Lp(t){return encodeURIComponent(t).replace(ev,Mp)}function jp(t,e){if(e)for(var n,r,i=e.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),t.push({key:Op(r.shift()),value:Op(r.join("="))}))}function Dp(t){this.entries.length=0,jp(this.entries,t)}function zp(t,e){if(t<e)throw TypeError("Not enough arguments")}var Np=Zt("iterator"),Pp=!g(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[Np]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}),Fp=2147483647,Bp=/[^\0-\u007E]/,Up=/[.\u3002\uFF0E\uFF61]/g,Vp="Overflow: input needs wider integers to process",qp=Math.floor,Wp=String.fromCharCode,Kp=et("fetch"),Zp=et("Headers"),Gp=Zt("iterator"),Yp="URLSearchParams",Hp=Yp+"Iterator",$p=pt.set,Qp=pt.getterFor(Yp),Jp=pt.getterFor(Hp),Xp=/\+/g,tv=Array(4),ev=/[!'()~]|%20/g,nv={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},rv=cr(function(t,e){$p(this,{type:Hp,iterator:Vh(Qp(t).entries),kind:e})},"Iterator",function(){var t=Jp(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),iv=function(t){ui(this,iv,Yp);var e,n,r,i,a,o,s,u,c,l=0<arguments.length?t:void 0,f=[];if($p(this,{type:Yp,entries:f,updateURL:function(){},updateSearchParams:Dp}),void 0!==l)if(L(l))if("function"==typeof(e=Fn(l)))for(r=(n=e.call(l)).next;!(i=r.call(n)).done;){if((s=(o=(a=Vh(E(i.value))).next).call(a)).done||(u=o.call(a)).done||!o.call(a).done)throw TypeError("Expected sequence with length 2");f.push({key:s.value+"",value:u.value+""})}else for(c in l)j(l,c)&&f.push({key:c,value:l[c]+""});else jp(f,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},av=iv.prototype;si(av,{append:function(t,e){zp(arguments.length,2);var n=Qp(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){zp(arguments.length,1);for(var e=Qp(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){zp(arguments.length,1);for(var e=Qp(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){zp(arguments.length,1);for(var e=Qp(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){zp(arguments.length,1);for(var e=Qp(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){zp(arguments.length,1);for(var n,r=Qp(this),i=r.entries,a=!1,o=t+"",s=e+"",u=0;u<i.length;u++)(n=i[u]).key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var t,e,n,r=Qp(this),i=r.entries,a=i.slice();for(n=i.length=0;n<a.length;n++){for(t=a[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t,e){for(var n,r=Qp(this).entries,i=$t(t,1<arguments.length?e:void 0,3),a=0;a<r.length;)i((n=r[a++]).value,n.key,this)},keys:function(){return new rv(this,"keys")},values:function(){return new rv(this,"values")},entries:function(){return new rv(this,"entries")}},{enumerable:!0}),vt(av,Gp,av.entries),vt(av,"toString",function(){for(var t,e=Qp(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(Lp(t.key)+"="+Lp(t.value));return n.join("&")},{enumerable:!0}),Yt(iv,Yp),ct({global:!0,forced:!Pp},{URLSearchParams:iv}),Pp||"function"!=typeof Kp||"function"!=typeof Zp||ct({global:!0,enumerable:!0,forced:!0},{fetch:function(t,e){var n,r,i,a=[t];return 1<arguments.length&&(L(n=e)&&(r=n.body,Wn(r)===Yp&&((i=n.headers?new Zp(n.headers):new Zp).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=re(n,{body:M(0,String(r)),headers:M(0,i)}))),a.push(n)),Kp.apply(this,a)}});function ov(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return Av;if(!(n=Bv(e.slice(1,-1))))return Av;t.host=n}else if(Gv(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(Up,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(Bp.test(n)?"xn--"+Tp(n):n);return r.join(".")}(e),Dv.test(e))return Av;if(null===(n=Fv(e)))return Av;t.host=n}else{if(zv.test(e))return Av;for(n="",r=Bn(e),i=0;i<r.length;i++)n+=Kv(r[i],Uv);t.host=n}}function sv(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=Sv(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,a=0;a<8;a++)0!==t[a]?(n<i&&(e=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return n<i&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i=i&&!1,r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}function uv(t){return""!=t.username||""!=t.password}function cv(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme}function lv(t,e){var n;return 2==t.length&&Rv.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)}function fv(t){var e;return 1<t.length&&lv(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)}function hv(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&lv(e[0],!0)||e.pop()}function dv(t,e,n,r){var i,a,o,s,u,c,l=n||Yv,f=0,h="",d=!1,p=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(Nv,"")),e=e.replace(Pv,""),i=Bn(e);f<=i.length;){switch(a=i[f],l){case Yv:if(!a||!Rv.test(a)){if(n)return Ev;l=$v;continue}h+=a.toLowerCase(),l=Hv;break;case Hv:if(a&&(Tv.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return Ev;h="",l=$v,f=0;continue}if(n&&(Gv(t)!=j(Zv,h)||"file"==h&&(uv(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(Gv(t)&&Zv[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?l=sg:Gv(t)&&r&&r.scheme==t.scheme?l=Qv:Gv(t)?l=eg:"/"==i[f+1]?(l=Jv,f++):(t.cannotBeABaseURL=!0,t.path.push(""),l=hg)}break;case $v:if(!r||r.cannotBeABaseURL&&"#"!=a)return Ev;if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=pg;break}l="file"==r.scheme?sg:Xv;continue;case Qv:if("/"!=a||"/"!=i[f+1]){l=Xv;continue}l=ng,f++;break;case Jv:if("/"==a){l=rg;break}l=fg;continue;case Xv:if(t.scheme=r.scheme,a==vv)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&Gv(t))l=tg;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=dg;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=fg;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=pg}break;case tg:if(!Gv(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=fg;continue}l=rg}else l=ng;break;case eg:if(l=ng,"/"!=a||"/"!=h.charAt(f+1))continue;f++;break;case ng:if("/"==a||"\\"==a)break;l=rg;continue;case rg:if("@"==a){d&&(h="%40"+h),d=!0,o=Bn(h);for(var g=0;g<o.length;g++){var y=o[g];if(":"!=y||v){var m=Kv(y,Wv);v?t.password+=m:t.username+=m}else v=!0}h=""}else if(a==vv||"/"==a||"?"==a||"#"==a||"\\"==a&&Gv(t)){if(d&&""==h)return"Invalid authority";f-=Bn(h).length+1,h="",l=ig}else h+=a;break;case ig:case ag:if(n&&"file"==t.scheme){l=cg;continue}if(":"!=a||p){if(a==vv||"/"==a||"?"==a||"#"==a||"\\"==a&&Gv(t)){if(Gv(t)&&""==h)return Av;if(n&&""==h&&(uv(t)||null!==t.port))return;if(s=ov(t,h))return s;if(h="",l=lg,n)return;continue}"["==a?p=!0:"]"==a&&(p=!1),h+=a}else{if(""==h)return Av;if(s=ov(t,h))return s;if(h="",l=og,n==ag)return}break;case og:if(!Cv.test(a)){if(a==vv||"/"==a||"?"==a||"#"==a||"\\"==a&&Gv(t)||n){if(""!=h){var _=parseInt(h,10);if(65535<_)return Iv;t.port=Gv(t)&&_===Zv[t.scheme]?null:_,h=""}if(n)return;l=lg;continue}return Iv}h+=a;break;case sg:if(t.scheme="file","/"==a||"\\"==a)l=ug;else{if(!r||"file"!=r.scheme){l=fg;continue}if(a==vv)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",l=dg;else{if("#"!=a){fv(i.slice(f).join(""))||(t.host=r.host,t.path=r.path.slice(),hv(t)),l=fg;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=pg}}break;case ug:if("/"==a||"\\"==a){l=cg;break}r&&"file"==r.scheme&&!fv(i.slice(f).join(""))&&(lv(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=fg;continue;case cg:if(a==vv||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&lv(h))l=fg;else if(""==h){if(t.host="",n)return;l=lg}else{if(s=ov(t,h))return s;if("localhost"==t.host&&(t.host=""),n)return;h="",l=lg}continue}h+=a;break;case lg:if(Gv(t)){if(l=fg,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=vv&&(l=fg,"/"!=a))continue}else t.fragment="",l=pg;else t.query="",l=dg;break;case fg:if(a==vv||"/"==a||"\\"==a&&Gv(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(hv(t),"/"==a||"\\"==a&&Gv(t)||t.path.push("")):"."===(u=h)||"%2e"===u.toLowerCase()?"/"==a||"\\"==a&&Gv(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&lv(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==vv||"?"==a||"#"==a))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=dg):"#"==a&&(t.fragment="",l=pg)}else h+=Kv(a,qv);break;case hg:"?"==a?(t.query="",l=dg):"#"==a?(t.fragment="",l=pg):a!=vv&&(t.path[0]+=Kv(a,Uv));break;case dg:n||"#"!=a?a!=vv&&("'"==a&&Gv(t)?t.query+="%27":t.query+="#"==a?"%23":Kv(a,Uv)):(t.fragment="",l=pg);break;case pg:a!=vv&&(t.fragment+=Kv(a,Vv))}f++}}function pv(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}}var vv,gv={URLSearchParams:iv,getState:Qp},yv=Fc.codeAt,mv=C.URL,_v=gv.URLSearchParams,wv=gv.getState,bv=pt.set,kv=pt.getterFor("URL"),Sv=Math.floor,xv=Math.pow,Ev="Invalid scheme",Av="Invalid host",Iv="Invalid port",Rv=/[A-Za-z]/,Tv=/[\d+\-.A-Za-z]/,Cv=/\d/,Ov=/^(0x|0X)/,Mv=/^[0-7]+$/,Lv=/^\d+$/,jv=/^[\dA-Fa-f]+$/,Dv=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,zv=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Nv=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Pv=/[\u0009\u000A\u000D]/g,Fv=function(t){var e,n,r,i,a,o,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),4<(e=u.length))return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(a=10,1<i.length&&"0"==i.charAt(0)&&(a=Ov.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?Lv:8==a?Mv:jv).test(i))return t;o=parseInt(i,a)}n.push(o)}for(r=0;r<e;r++)if(o=n[r],r==e-1){if(o>=xv(256,5-e))return null}else if(255<o)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*xv(256,3-r);return s},Bv=function(t){function e(){return t.charAt(h)}var n,r,i,a,o,s,u,c=[0,0,0,0,0,0,0,0],l=0,f=null,h=0;if(":"==e()){if(":"!=t.charAt(1))return;h+=2,f=++l}for(;e();){if(8==l)return;if(":"!=e()){for(n=r=0;r<4&&jv.test(e());)n=16*n+parseInt(e(),16),h++,r++;if("."==e()){if(0==r)return;if(h-=r,6<l)return;for(i=0;e();){if(a=null,0<i){if(!("."==e()&&i<4))return;h++}if(!Cv.test(e()))return;for(;Cv.test(e());){if(o=parseInt(e(),10),null===a)a=o;else{if(0==a)return;a=10*a+o}if(255<a)return;h++}c[l]=256*c[l]+a,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==e()){if(h++,!e())return}else if(e())return;c[l++]=n}else{if(null!==f)return;h++,f=++l}}if(null!==f)for(s=l-f,l=7;0!=l&&0<s;)u=c[l],c[l--]=c[f+s-1],c[f+--s]=u;else if(8!=l)return;return c},Uv={},Vv=ns({},Uv,{" ":1,'"':1,"<":1,">":1,"`":1}),qv=ns({},Vv,{"#":1,"?":1,"{":1,"}":1}),Wv=ns({},qv,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Kv=function(t,e){var n=yv(t,0);return 32<n&&n<127&&!j(e,t)?t:encodeURIComponent(t)},Zv={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Gv=function(t){return j(Zv,t.scheme)},Yv={},Hv={},$v={},Qv={},Jv={},Xv={},tg={},eg={},ng={},rg={},ig={},ag={},og={},sg={},ug={},cg={},lg={},fg={},hg={},dg={},pg={},vg=function(t,e){var n,r,i=ui(this,vg,"URL"),a=1<arguments.length?e:void 0,o=String(t),s=bv(i,{type:"URL"});if(void 0!==a)if(a instanceof vg)n=kv(a);else if(r=dv(n={},String(a)))throw TypeError(r);if(r=dv(s,o,null,n))throw TypeError(r);var u=s.searchParams=new _v,c=wv(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},O||(i.href=yg.call(i),i.origin=mg.call(i),i.protocol=_g.call(i),i.username=wg.call(i),i.password=bg.call(i),i.host=kg.call(i),i.hostname=Sg.call(i),i.port=xg.call(i),i.pathname=Eg.call(i),i.search=Ag.call(i),i.searchParams=Ig.call(i),i.hash=Rg.call(i))},gg=vg.prototype,yg=function(){var t=kv(this),e=t.scheme,n=t.username,r=t.password,i=t.host,a=t.port,o=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",uv(t)&&(c+=n+(r?":"+r:"")+"@"),c+=sv(i),null!==a&&(c+=":"+a)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},mg=function(){var t=kv(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Gv(t)?e+"://"+sv(t.host)+(null!==n?":"+n:""):"null"},_g=function(){return kv(this).scheme+":"},wg=function(){return kv(this).username},bg=function(){return kv(this).password},kg=function(){var t=kv(this),e=t.host,n=t.port;return null===e?"":null===n?sv(e):sv(e)+":"+n},Sg=function(){var t=kv(this).host;return null===t?"":sv(t)},xg=function(){var t=kv(this).port;return null===t?"":String(t)},Eg=function(){var t=kv(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ag=function(){var t=kv(this).query;return t?"?"+t:""},Ig=function(){return kv(this).searchParams},Rg=function(){var t=kv(this).fragment;return t?"#"+t:""};if(O&&Bt(gg,{href:pv(yg,function(t){var e=kv(this),n=String(t),r=dv(e,n);if(r)throw TypeError(r);wv(e.searchParams).updateSearchParams(e.query)}),origin:pv(mg),protocol:pv(_g,function(t){var e=kv(this);dv(e,String(t)+":",Yv)}),username:pv(wg,function(t){var e=kv(this),n=Bn(String(t));if(!cv(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Kv(n[r],Wv)}}),password:pv(bg,function(t){var e=kv(this),n=Bn(String(t));if(!cv(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Kv(n[r],Wv)}}),host:pv(kg,function(t){var e=kv(this);e.cannotBeABaseURL||dv(e,String(t),ig)}),hostname:pv(Sg,function(t){var e=kv(this);e.cannotBeABaseURL||dv(e,String(t),ag)}),port:pv(xg,function(t){var e=kv(this);cv(e)||(""==(t=String(t))?e.port=null:dv(e,t,og))}),pathname:pv(Eg,function(t){var e=kv(this);e.cannotBeABaseURL||(e.path=[],dv(e,t+"",lg))}),search:pv(Ag,function(t){var e=kv(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",dv(e,t,dg)),wv(e.searchParams).updateSearchParams(e.query)}),searchParams:pv(Ig),hash:pv(Rg,function(t){var e=kv(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",dv(e,t,pg)):e.fragment=null})}),vt(gg,"toJSON",function(){return yg.call(this)},{enumerable:!0}),vt(gg,"toString",function(){return yg.call(this)},{enumerable:!0}),mv){var Tg=mv.createObjectURL,Cg=mv.revokeObjectURL;Tg&&vt(vg,"createObjectURL",function(t){return Tg.apply(mv,arguments)}),Cg&&vt(vg,"revokeObjectURL",function(t){return Cg.apply(mv,arguments)})}Yt(vg,"URL"),ct({global:!0,forced:!Pp,sham:!O},{URL:vg}),ct({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});e(function(t){var e=function(a){var u,t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function o(t,e,n,r){var a,o,s,u,i=e&&e.prototype instanceof y?e:y,c=Object.create(i.prototype),l=new I(r||[]);return c._invoke=(a=t,o=n,s=l,u=h,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===v){if("throw"===t)throw e;return T()}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=x(n,s);if(r){if(r===g)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===h)throw u=v,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=p;var i=f(a,o,s);if("normal"===i.type){if(u=s.done?v:d,i.arg===g)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=v,s.method="throw",s.arg=i.arg)}}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=o;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function y(){}function s(){}function l(){}var m={};m[i]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(R([])));w&&w!==t&&c.call(w,i)&&(m=w);var b=l.prototype=y.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(u){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,i){var a=f(u[t],u,n);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):Promise.resolve(s).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(a.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function x(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,x(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function R(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:u,done:!0}}return s.prototype=b.constructor=l,l.constructor=s,l[r]=s.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[n]=function(){return this},a.AsyncIterator=S,a.async=function(t,e,n,r){var i=new S(o(t,e,n,r));return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(b),b[r]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),g}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});function Og(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e,n){return e&&Mg(t.prototype,e),n&&Mg(t,n),t}function jg(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zg(t,e)}function Dg(t){return(Dg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zg(t,e){return(zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ng(t,e,n){return(Ng=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&zg(i,n.prototype),i}).apply(null,arguments)}function Pg(t){var r="function"==typeof Map?new Map:void 0;return(Pg=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return Ng(t,arguments,Dg(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),zg(n,t)})(t)}function Fg(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ug=window.fetch.bind(window),Vg=function(){function r(t,e,n){Og(this,r),this.appId=t,this.userId=e,this.accessToken=n}return Lg(r,[{key:"getApiOption",value:function(){return{auth:!1,path:"/v1/users/".concat(this.userId,"/login"),method:"POST",body:{app_id:this.appId,user_id:this.userId,access_token:this.accessToken}}}},{key:"isWsOnly",value:function(){return!1}}]),r}();for(var qg,Wg=(function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}}(qg={exports:{}},qg.exports),qg.exports),Kg=[],Zg=0;Zg<256;++Zg)Kg[Zg]=(Zg+256).toString(16).substr(1);var Gg=function(t,e){var n=e||0,r=Kg;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};var Yg=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||Wg)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var a=0;a<16;++a)e[r+a]=i[a];return e||Gg(i)},Hg=function(){function t(){Og(this,t),this.version=1,this.requestId=Yg()}return Lg(t,[{key:"getApiOption",value:function(){return{auth:!0,clientId:!0,path:"/v1/action/direct_call",method:"POST",body:{version:this.version,request_id:this.requestId,cmd:this.getCMD(),type:this.getType(),payload:this.getData()}}}},{key:"serialize",value:function(){return JSON.stringify({version:this.version,request_id:this.requestId,cmd:this.getCMD(),type:this.getType(),payload:this.getData()})}},{key:"isWsOnly",value:function(){return!0}},{key:"requireResponse",value:function(){return!1}},{key:"getCMD",value:function(){throw new Error("[".concat(this.constructor.name,"] implement getCMD in child class"))}},{key:"getType",value:function(){throw new Error("[".concat(this.constructor.name,"] implement getType in child class"))}},{key:"getData",value:function(){throw new Error("[".concat(this.constructor.name,"] implement getData in child class"))}}]),t}(),$g="CALL",Qg="SGNL",Jg="COMM",Xg="dial",ty="cancel",ey="accept",ny="decline",ry="offer",iy="answer",ay="candidate",oy="audio",sy="end",uy="timeout",cy="alive",ly="no_answer",fy=function(){function i(t,e,n){var r;return Og(this,i),(r=Fg(this,Dg(i).call(this))).calleeId=t,r.isVideoCall=e,r.constraints=n,r}return jg(i,Hg),Lg(i,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return Xg}},{key:"getData",value:function(){return{callee_id:this.calleeId,is_video_call:this.isVideoCall,constraints:{audio:this.constraints.audio,video:this.constraints.video}}}}]),i}(),hy=function(){function n(t){var e;return Og(this,n),(e=Fg(this,Dg(n).call(this))).callId=t,e}return jg(n,Hg),Lg(n,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return ty}},{key:"getData",value:function(){return{call_id:this.callId}}}]),n}(),dy=function(){function n(t){var e;return Og(this,n),(e=Fg(this,Dg(n).call(this))).callId=t,e}return jg(n,Hg),Lg(n,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return sy}},{key:"getData",value:function(){return{call_id:this.callId}}}]),n}(),py=function(){function r(t,e){var n;return Og(this,r),(n=Fg(this,Dg(r).call(this))).callId=t,n.reason=e,n}return jg(r,Hg),Lg(r,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return uy}},{key:"getData",value:function(){return{call_id:this.callId,reason:this.reason}}}]),r}(),vy=e(function(t,e){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1);r.length;){var i=r.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)e=i,n=a,Object.prototype.hasOwnProperty.call(e,n)&&(t[a]=i[a])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,o;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)a=t[e],o.set(a,i),i+=a.length;return o}},i={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(n)}),gy=(vy.assign,vy.shrinkBuf,vy.setTyped,vy.Buf8,vy.Buf16,vy.Buf32,0),yy=1;function my(t){for(var e=t.length;0<=--e;)t[e]=0}var _y=0,wy=29,by=256,ky=by+1+wy,Sy=30,xy=19,Ey=2*ky+1,Ay=15,Iy=16,Ry=7,Ty=256,Cy=16,Oy=17,My=18,Ly=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],jy=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Dy=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],zy=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ny=new Array(2*(ky+2));my(Ny);var Py=new Array(2*Sy);my(Py);var Fy=new Array(512);my(Fy);var By=new Array(256);my(By);var Uy=new Array(wy);my(Uy);var Vy,qy,Wy,Ky=new Array(Sy);function Zy(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function Gy(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Yy(t){return t<256?Fy[t]:Fy[256+(t>>>7)]}function Hy(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function $y(t,e,n){t.bi_valid>Iy-n?(t.bi_buf|=e<<t.bi_valid&65535,Hy(t,t.bi_buf),t.bi_buf=e>>Iy-t.bi_valid,t.bi_valid+=n-Iy):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Qy(t,e,n){$y(t,n[2*e],n[2*e+1])}function Jy(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function Xy(t,e,n){var r,i,a=new Array(Ay+1),o=0;for(r=1;r<=Ay;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=Jy(a[s]++,s))}}function tm(t){var e;for(e=0;e<ky;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Sy;e++)t.dyn_dtree[2*e]=0;for(e=0;e<xy;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Ty]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function em(t){8<t.bi_valid?Hy(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function nm(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function rm(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&nm(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!nm(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function im(t,e,n){var r,i,a,o,s=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?Qy(t,i,e):(Qy(t,(a=By[i])+by+1,e),0!==(o=Ly[a])&&$y(t,i-=Uy[a],o),Qy(t,a=Yy(--r),n),0!==(o=jy[a])&&$y(t,r-=Ky[a],o)),s<t.last_lit;);Qy(t,Ty,e)}function am(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=Ey,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;1<=n;n--)rm(t,a,n);for(i=u;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],rm(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,rm(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,o,s,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(a=0;a<=Ay;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<Ey;n++)p<(a=u[2*u[2*(r=t.heap[n])+1]+1]+1)&&(a=p,v++),u[2*r+1]=a,c<r||(t.bl_count[a]++,o=0,d<=r&&(o=h[r-d]),s=u[2*r],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(l[2*r+1]+o)));if(0!==v){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,v-=2}while(0<v);for(a=p;0!==a;a--)for(r=t.bl_count[a];0!==r;)c<(i=t.heap[--n])||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(t,e),Xy(a,c,t.bl_count)}function om(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<u&&i===o||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*Cy]++):s<=10?t.bl_tree[2*Oy]++:t.bl_tree[2*My]++,a=i,c=(s=0)===o?(u=138,3):i===o?(u=6,3):(u=7,4))}function sm(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<u&&i===o)){if(s<c)for(;Qy(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==a&&(Qy(t,i,t.bl_tree),s--),Qy(t,Cy,t.bl_tree),$y(t,s-3,2)):s<=10?(Qy(t,Oy,t.bl_tree),$y(t,s-3,3)):(Qy(t,My,t.bl_tree),$y(t,s-11,7));a=i,c=(s=0)===o?(u=138,3):i===o?(u=6,3):(u=7,4)}}my(Ky);var um=!1;function cm(t,e,n,r){var i,a,o,s;$y(t,(_y<<1)+(r?1:0),3),a=e,o=n,s=!0,em(i=t),s&&(Hy(i,o),Hy(i,~o)),vy.arraySet(i.pending_buf,i.window,a,o,i.pending),i.pending+=o}var lm={_tr_init:function(t){um||(function(){var t,e,n,r,i,a=new Array(Ay+1);for(r=n=0;r<wy-1;r++)for(Uy[r]=n,t=0;t<1<<Ly[r];t++)By[n++]=r;for(By[n-1]=r,r=i=0;r<16;r++)for(Ky[r]=i,t=0;t<1<<jy[r];t++)Fy[i++]=r;for(i>>=7;r<Sy;r++)for(Ky[r]=i<<7,t=0;t<1<<jy[r]-7;t++)Fy[256+i++]=r;for(e=0;e<=Ay;e++)a[e]=0;for(t=0;t<=143;)Ny[2*t+1]=8,t++,a[8]++;for(;t<=255;)Ny[2*t+1]=9,t++,a[9]++;for(;t<=279;)Ny[2*t+1]=7,t++,a[7]++;for(;t<=287;)Ny[2*t+1]=8,t++,a[8]++;for(Xy(Ny,ky+1,a),t=0;t<Sy;t++)Py[2*t+1]=5,Py[2*t]=Jy(t,5);Vy=new Zy(Ny,Ly,by+1,ky,Ay),qy=new Zy(Py,jy,0,Sy,Ay),Wy=new Zy(new Array(0),Dy,0,xy,Ry)}(),um=!0),t.l_desc=new Gy(t.dyn_ltree,Vy),t.d_desc=new Gy(t.dyn_dtree,qy),t.bl_desc=new Gy(t.bl_tree,Wy),t.bi_buf=0,t.bi_valid=0,tm(t)},_tr_stored_block:cm,_tr_flush_block:function(t,e,n,r){var i,a,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return gy;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return yy;for(e=32;e<by;e++)if(0!==t.dyn_ltree[2*e])return yy;return gy}(t)),am(t,t.l_desc),am(t,t.d_desc),o=function(t){var e;for(om(t,t.dyn_ltree,t.l_desc.max_code),om(t,t.dyn_dtree,t.d_desc.max_code),am(t,t.bl_desc),e=xy-1;3<=e&&0===t.bl_tree[2*zy[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?cm(t,e,n,r):4===t.strategy||a===i?($y(t,2+(r?1:0),3),im(t,Ny,Py)):($y(t,4+(r?1:0),3),function(t,e,n,r){var i;for($y(t,e-257,5),$y(t,n-1,5),$y(t,r-4,4),i=0;i<r;i++)$y(t,t.bl_tree[2*zy[i]+1],3);sm(t,t.dyn_ltree,e-1),sm(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),im(t,t.dyn_ltree,t.dyn_dtree)),tm(t),r&&em(t)},_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(By[n]+by+1)]++,t.dyn_dtree[2*Yy(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){var e;$y(t,2,3),Qy(t,Ty,Ny),16===(e=t).bi_valid?(Hy(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}};var fm=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+e[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0};var hm=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var dm,pm=function(t,e,n,r){var i=hm,a=r+n;t^=-1;for(var o=r;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t},vm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gm=0,ym=4,mm=0,_m=-2,wm=-1,bm=4,km=2,Sm=8,xm=9,Em=286,Am=30,Im=19,Rm=2*Em+1,Tm=15,Cm=3,Om=258,Mm=Om+Cm+1,Lm=42,jm=113,Dm=1,zm=2,Nm=3,Pm=4;function Fm(t,e){return t.msg=vm[e],e}function Bm(t){return(t<<1)-(4<t?9:0)}function Um(t){for(var e=t.length;0<=--e;)t[e]=0}function Vm(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(vy.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function qm(t,e){lm._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Vm(t.strm)}function Wm(t,e){t.pending_buf[t.pending++]=e}function Km(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function Zm(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-Mm?t.strstart-(t.w_size-Mm):0,c=t.window,l=t.w_mask,f=t.prev,h=t.strstart+Om,d=c[a+o-1],p=c[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+o]===p&&c[n+o-1]===d&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(r=Om-(h-a),a=h-Om,o<r){if(t.match_start=e,s<=(o=r))break;d=c[a+o-1],p=c[a+o]}}}while((e=f[e&l])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead}function Gm(t){var e,n,r,i,a,o,s,u,c,l,f=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-Mm)){for(vy.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;r=t.head[--e],t.head[e]=f<=r?r-f:0,--n;);for(e=n=f;r=t.prev[--e],t.prev[e]=f<=r?r-f:0,--n;);i+=f}if(0===t.strm.avail_in)break;if(o=t.strm,s=t.window,u=t.strstart+t.lookahead,c=i,l=void 0,l=o.avail_in,c<l&&(l=c),n=0===l?0:(o.avail_in-=l,vy.arraySet(s,o.input,o.next_in,l,u),1===o.state.wrap?o.adler=fm(o.adler,s,l,u):2===o.state.wrap&&(o.adler=pm(o.adler,s,l,u)),o.next_in+=l,o.total_in+=l,l),t.lookahead+=n,t.lookahead+t.insert>=Cm)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+Cm-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<Cm)););}while(t.lookahead<Mm&&0!==t.strm.avail_in)}function Ym(t,e){for(var n,r;;){if(t.lookahead<Mm){if(Gm(t),t.lookahead<Mm&&e===gm)return Dm;if(0===t.lookahead)break}if(n=0,t.lookahead>=Cm&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Cm-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Mm&&(t.match_length=Zm(t,n)),t.match_length>=Cm)if(r=lm._tr_tally(t,t.strstart-t.match_start,t.match_length-Cm),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Cm){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Cm-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=lm._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(qm(t,!1),0===t.strm.avail_out))return Dm}return t.insert=t.strstart<Cm-1?t.strstart:Cm-1,e===ym?(qm(t,!0),0===t.strm.avail_out?Nm:Pm):t.last_lit&&(qm(t,!1),0===t.strm.avail_out)?Dm:zm}function Hm(t,e){for(var n,r,i;;){if(t.lookahead<Mm){if(Gm(t),t.lookahead<Mm&&e===gm)return Dm;if(0===t.lookahead)break}if(n=0,t.lookahead>=Cm&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Cm-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Cm-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Mm&&(t.match_length=Zm(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===Cm&&4096<t.strstart-t.match_start)&&(t.match_length=Cm-1)),t.prev_length>=Cm&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-Cm,r=lm._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-Cm),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Cm-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=Cm-1,t.strstart++,r&&(qm(t,!1),0===t.strm.avail_out))return Dm}else if(t.match_available){if((r=lm._tr_tally(t,0,t.window[t.strstart-1]))&&qm(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Dm}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=lm._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Cm-1?t.strstart:Cm-1,e===ym?(qm(t,!0),0===t.strm.avail_out?Nm:Pm):t.last_lit&&(qm(t,!1),0===t.strm.avail_out)?Dm:zm}function $m(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function Qm(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Sm,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new vy.Buf16(2*Rm),this.dyn_dtree=new vy.Buf16(2*(2*Am+1)),this.bl_tree=new vy.Buf16(2*(2*Im+1)),Um(this.dyn_ltree),Um(this.dyn_dtree),Um(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new vy.Buf16(Tm+1),this.heap=new vy.Buf16(2*Em+1),Um(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new vy.Buf16(2*Em+1),Um(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jm(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=km,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Lm:jm,t.adler=2===e.wrap?0:1,e.last_flush=gm,lm._tr_init(e),mm):Fm(t,_m)}function Xm(t){var e,n=Jm(t);return n===mm&&((e=t.state).window_size=2*e.w_size,Um(e.head),e.max_lazy_match=dm[e.level].max_lazy,e.good_match=dm[e.level].good_length,e.nice_match=dm[e.level].nice_length,e.max_chain_length=dm[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Cm-1,e.match_available=0,e.ins_h=0),n}function t_(t,e,n,r,i,a){if(!t)return _m;var o=1;if(e===wm&&(e=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),i<1||xm<i||n!==Sm||r<8||15<r||e<0||9<e||a<0||bm<a)return Fm(t,_m);8===r&&(r=9);var s=new Qm;return(t.state=s).strm=t,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Cm-1)/Cm),s.window=new vy.Buf8(2*s.w_size),s.head=new vy.Buf16(s.hash_size),s.prev=new vy.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new vy.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=n,Xm(t)}dm=[new $m(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Gm(t),0===t.lookahead&&e===gm)return Dm;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,qm(t,!1),0===t.strm.avail_out))return Dm;if(t.strstart-t.block_start>=t.w_size-Mm&&(qm(t,!1),0===t.strm.avail_out))return Dm}return t.insert=0,e===ym?(qm(t,!0),0===t.strm.avail_out?Nm:Pm):(t.strstart>t.block_start&&(qm(t,!1),t.strm.avail_out),Dm)}),new $m(4,4,8,4,Ym),new $m(4,5,16,8,Ym),new $m(4,6,32,32,Ym),new $m(4,4,16,16,Hm),new $m(8,16,32,32,Hm),new $m(8,16,128,128,Hm),new $m(8,32,128,256,Hm),new $m(32,128,258,1024,Hm),new $m(32,258,258,4096,Hm)];var e_={deflateInit:function(t,e){return t_(t,e,Sm,15,8,0)},deflateInit2:t_,deflateReset:Xm,deflateResetKeep:Jm,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?_m:(t.state.gzhead=e,mm):_m},deflate:function(t,e){var n,r,i,a;if(!t||!t.state||5<e||e<0)return t?Fm(t,_m):_m;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&e!==ym)return Fm(t,0===t.avail_out?-5:_m);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===Lm)if(2===r.wrap)t.adler=0,Wm(r,31),Wm(r,139),Wm(r,8),r.gzhead?(Wm(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Wm(r,255&r.gzhead.time),Wm(r,r.gzhead.time>>8&255),Wm(r,r.gzhead.time>>16&255),Wm(r,r.gzhead.time>>24&255),Wm(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),Wm(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Wm(r,255&r.gzhead.extra.length),Wm(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=pm(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Wm(r,0),Wm(r,0),Wm(r,0),Wm(r,0),Wm(r,0),Wm(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),Wm(r,3),r.status=jm);else{var o=Sm+(r.w_bits-8<<4)<<8;o|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=jm,Km(r,o),0!==r.strstart&&(Km(r,t.adler>>>16),Km(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(t.adler=pm(t.adler,r.pending_buf,r.pending-i,i)),Vm(t),i=r.pending,r.pending!==r.pending_buf_size));)Wm(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=pm(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=pm(t.adler,r.pending_buf,r.pending-i,i)),Vm(t),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Wm(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>i&&(t.adler=pm(t.adler,r.pending_buf,r.pending-i,i)),0===a&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=pm(t.adler,r.pending_buf,r.pending-i,i)),Vm(t),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Wm(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>i&&(t.adler=pm(t.adler,r.pending_buf,r.pending-i,i)),0===a&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Vm(t),r.pending+2<=r.pending_buf_size&&(Wm(r,255&t.adler),Wm(r,t.adler>>8&255),t.adler=0,r.status=jm)):r.status=jm),0!==r.pending){if(Vm(t),0===t.avail_out)return r.last_flush=-1,mm}else if(0===t.avail_in&&Bm(e)<=Bm(n)&&e!==ym)return Fm(t,-5);if(666===r.status&&0!==t.avail_in)return Fm(t,-5);if(0!==t.avail_in||0!==r.lookahead||e!==gm&&666!==r.status){var s=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(Gm(t),0===t.lookahead)){if(e===gm)return Dm;break}if(t.match_length=0,n=lm._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(qm(t,!1),0===t.strm.avail_out))return Dm}return t.insert=0,e===ym?(qm(t,!0),0===t.strm.avail_out?Nm:Pm):t.last_lit&&(qm(t,!1),0===t.strm.avail_out)?Dm:zm}(r,e):3===r.strategy?function(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=Om){if(Gm(t),t.lookahead<=Om&&e===gm)return Dm;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=Cm&&0<t.strstart&&(r=o[i=t.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=t.strstart+Om;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=Om-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Cm?(n=lm._tr_tally(t,1,t.match_length-Cm),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=lm._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(qm(t,!1),0===t.strm.avail_out))return Dm}return t.insert=0,e===ym?(qm(t,!0),0===t.strm.avail_out?Nm:Pm):t.last_lit&&(qm(t,!1),0===t.strm.avail_out)?Dm:zm}(r,e):dm[r.level].func(r,e);if(s!==Nm&&s!==Pm||(r.status=666),s===Dm||s===Nm)return 0===t.avail_out&&(r.last_flush=-1),mm;if(s===zm&&(1===e?lm._tr_align(r):5!==e&&(lm._tr_stored_block(r,0,0,!1),3===e&&(Um(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Vm(t),0===t.avail_out))return r.last_flush=-1,mm}return e!==ym?mm:r.wrap<=0?1:(2===r.wrap?(Wm(r,255&t.adler),Wm(r,t.adler>>8&255),Wm(r,t.adler>>16&255),Wm(r,t.adler>>24&255),Wm(r,255&t.total_in),Wm(r,t.total_in>>8&255),Wm(r,t.total_in>>16&255),Wm(r,t.total_in>>24&255)):(Km(r,t.adler>>>16),Km(r,65535&t.adler)),Vm(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?mm:1)},deflateEnd:function(t){var e;return t&&t.state?(e=t.state.status)!==Lm&&69!==e&&73!==e&&91!==e&&103!==e&&e!==jm&&666!==e?Fm(t,_m):(t.state=null,e===jm?Fm(t,-3):mm):_m},deflateSetDictionary:function(t,e){var n,r,i,a,o,s,u,c,l=e.length;if(!t||!t.state)return _m;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==Lm||n.lookahead)return _m;for(1===a&&(t.adler=fm(t.adler,e,l,0)),n.wrap=0,l>=n.w_size&&(0===a&&(Um(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new vy.Buf8(n.w_size),vy.arraySet(c,e,l-n.w_size,n.w_size,0),e=c,l=n.w_size),o=t.avail_in,s=t.next_in,u=t.input,t.avail_in=l,t.next_in=0,t.input=e,Gm(n);n.lookahead>=Cm;){for(r=n.strstart,i=n.lookahead-(Cm-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+Cm-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=Cm-1,Gm(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Cm-1,n.match_available=0,t.next_in=s,t.input=u,t.avail_in=o,n.wrap=a,mm},deflateInfo:"pako deflate (from Nodeca project)"},n_=!0,r_=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r_=!1}for(var i_=new vy.Buf8(256),a_=0;a_<256;a_++)i_[a_]=252<=a_?6:248<=a_?5:240<=a_?4:224<=a_?3:192<=a_?2:1;i_[254]=i_[254]=1;function o_(t,e){if(e<65534&&(t.subarray&&r_||!t.subarray&&n_))return String.fromCharCode.apply(null,vy.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var s_={string2buf:function(t){var e,n,r,i,a,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new vy.Buf8(s),i=a=0;a<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},buf2binstring:function(t){return o_(t,t.length)},binstring2buf:function(t){for(var e=new vy.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},buf2string:function(t,e){var n,r,i,a,o=e||t.length,s=new Array(2*o);for(n=r=0;n<o;)if((i=t[n++])<128)s[r++]=i;else if(4<(a=i_[i]))s[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<o;)i=i<<6|63&t[n++],a--;1<a?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return o_(s,r)},utf8border:function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+i_[t[n]]>e?n:e}};var u_=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},c_=Object.prototype.toString,l_=0,f_=-1,h_=0,d_=8;function p_(t){if(!(this instanceof p_))return new p_(t);this.options=vy.assign({level:f_,method:d_,chunkSize:16384,windowBits:15,memLevel:8,strategy:h_,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u_,this.strm.avail_out=0;var n=e_.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l_)throw new Error(vm[n]);if(e.header&&e_.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?s_.string2buf(e.dictionary):"[object ArrayBuffer]"===c_.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=e_.deflateSetDictionary(this.strm,r))!==l_)throw new Error(vm[n]);this._dict_set=!0}}function v_(t,e){var n=new p_(e);if(n.push(t,!0),n.err)throw n.msg||vm[n.err];return n.result}p_.prototype.push=function(t,e){var n,r,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=s_.string2buf(t):"[object ArrayBuffer]"===c_.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new vy.Buf8(a),i.next_out=0,i.avail_out=a),1!==(n=e_.deflate(i,r))&&n!==l_)return this.onEnd(n),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(s_.buf2binstring(vy.shrinkBuf(i.output,i.next_out))):this.onData(vy.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==n);return 4===r?(n=e_.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l_):2!==r||(this.onEnd(l_),!(i.avail_out=0))},p_.prototype.onData=function(t){this.chunks.push(t)},p_.prototype.onEnd=function(t){t===l_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=vy.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function g_(t,e){var n,r,i,a,o,s,u,c,l,f,h,d,p,v,g,y,m,_,w,b,k,S,x,E,A;n=t.state,r=t.next_in,E=t.input,i=r+(t.avail_in-5),a=t.next_out,A=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,v=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),_=v[d&y];e:for(;;){if(d>>>=w=_>>>24,p-=w,0===(w=_>>>16&255))A[a++]=65535&_;else{if(!(16&w)){if(0==(64&w)){_=v[(65535&_)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}b=65535&_,(w&=15)&&(p<w&&(d+=E[r++]<<p,p+=8),b+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),_=g[d&m];n:for(;;){if(d>>>=w=_>>>24,p-=w,!(16&(w=_>>>16&255))){if(0==(64&w)){_=g[(65535&_)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&_,p<(w&=15)&&(d+=E[r++]<<p,(p+=8)<w&&(d+=E[r++]<<p,p+=8)),u<(k+=d&(1<<w)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,p-=w,(w=a-o)<k){if(l<(w=k-w)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(x=h,(S=0)===f){if(S+=c-w,w<b){for(b-=w;A[a++]=h[S++],--w;);S=a-k,x=A}}else if(f<w){if(S+=c+f-w,(w-=f)<b){for(b-=w;A[a++]=h[S++],--w;);if(S=0,f<b){for(b-=w=f;A[a++]=h[S++],--w;);S=a-k,x=A}}}else if(S+=f-w,w<b){for(b-=w;A[a++]=h[S++],--w;);S=a-k,x=A}for(;2<b;)A[a++]=x[S++],A[a++]=x[S++],A[a++]=x[S++],b-=3;b&&(A[a++]=x[S++],1<b&&(A[a++]=x[S++]))}else{for(S=a-k;A[a++]=A[S++],A[a++]=A[S++],A[a++]=A[S++],2<(b-=3););b&&(A[a++]=A[S++],1<b&&(A[a++]=A[S++]))}break}}break}}while(r<i&&a<s);r-=b=p>>3,d&=(1<<(p-=b<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}var y_={Deflate:p_,deflate:v_,deflateRaw:function(t,e){return(e=e||{}).raw=!0,v_(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,v_(t,e)}},m_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],__=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],k_=function(t,e,n,r,i,a,o,s){var u,c,l,f,h,d,p,v,g,y=s.bits,m=0,_=0,w=0,b=0,k=0,S=0,x=0,E=0,A=0,I=0,R=null,T=0,C=new vy.Buf16(16),O=new vy.Buf16(16),M=null,L=0;for(m=0;m<=15;m++)C[m]=0;for(_=0;_<r;_++)C[e[n+_]]++;for(k=y,b=15;1<=b&&0===C[b];b--);if(b<k&&(k=b),0===b)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(w=1;w<b&&0===C[w];w++);for(k<w&&(k=w),m=E=1;m<=15;m++)if(E<<=1,(E-=C[m])<0)return-1;if(0<E&&(0===t||1!==b))return-1;for(O[1]=0,m=1;m<15;m++)O[m+1]=O[m]+C[m];for(_=0;_<r;_++)0!==e[n+_]&&(o[O[e[n+_]]++]=_);if(d=0===t?(R=M=o,19):1===t?(R=m_,T-=257,M=__,L-=257,256):(R=w_,M=b_,-1),m=w,h=a,x=_=I=0,l=-1,f=(A=1<<(S=k))-1,1===t&&852<A||2===t&&592<A)return 1;for(;;){for(p=m-x,g=o[_]<d?(v=0,o[_]):o[_]>d?(v=M[L+o[_]],R[T+o[_]]):(v=96,0),u=1<<m-x,w=c=1<<S;i[h+(I>>x)+(c-=u)]=p<<24|v<<16|g|0,0!==c;);for(u=1<<m-1;I&u;)u>>=1;if(0!==u?(I&=u-1,I+=u):I=0,_++,0==--C[m]){if(m===b)break;m=e[n+o[_]]}if(k<m&&(I&f)!==l){for(0===x&&(x=k),h+=w,E=1<<(S=m-x);S+x<b&&!((E-=C[S+x])<=0);)S++,E<<=1;if(A+=1<<S,1===t&&852<A||2===t&&592<A)return 1;i[l=I&f]=k<<24|S<<16|h-a|0}}return 0!==I&&(i[h+I]=m-x<<24|64<<16|0),s.bits=k,0},S_=1,x_=2,E_=0,A_=-2,I_=1,R_=852,T_=592;function C_(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function O_(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new vy.Buf16(320),this.work=new vy.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M_(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=I_,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new vy.Buf32(R_),e.distcode=e.distdyn=new vy.Buf32(T_),e.sane=1,e.back=-1,E_):A_}function L_(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,M_(t)):A_}function j_(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?A_:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,L_(t))):A_}function D_(t,e){var n,r;return t?(r=new O_,(t.state=r).window=null,(n=j_(t,e))!==E_&&(t.state=null),n):A_}var z_,N_,P_=!0;function F_(t){if(P_){var e;for(z_=new vy.Buf32(512),N_=new vy.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(k_(S_,t.lens,0,288,z_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;k_(x_,t.lens,0,32,N_,0,t.work,{bits:5}),P_=!1}t.lencode=z_,t.lenbits=9,t.distcode=N_,t.distbits=5}function B_(t,e,n,r){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new vy.Buf8(a.wsize)),r>=a.wsize?(vy.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(i=a.wsize-a.wnext)&&(i=r),vy.arraySet(a.window,e,n-r,i,a.wnext),(r-=i)?(vy.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}var U_={inflateReset:L_,inflateReset2:j_,inflateResetKeep:M_,inflateInit:function(t){return D_(t,15)},inflateInit2:D_,inflate:function(t,e){var n,r,i,a,o,s,u,c,l,f,h,d,p,v,g,y,m,_,w,b,k,S,x,E,A=0,I=new vy.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return A_;12===(n=t.state).mode&&(n.mode=13),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,c=n.hold,l=n.bits,f=s,h=u,S=E_;t:for(;;)switch(n.mode){case I_:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(2&n.wrap&&35615===c){I[n.check=0]=255&c,I[1]=c>>>8&255,n.check=pm(n.check,I,2,0),l=c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&c)){t.msg="unknown compression method",n.mode=30;break}if(l-=4,k=8+(15&(c>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&c?10:12,l=c=0;break;case 2:for(;l<16;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(n.flags=c,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(I[0]=255&c,I[1]=c>>>8&255,n.check=pm(n.check,I,2,0)),l=c=0,n.mode=3;case 3:for(;l<32;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(I[0]=255&c,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,n.check=pm(n.check,I,4,0)),l=c=0,n.mode=4;case 4:for(;l<16;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(I[0]=255&c,I[1]=c>>>8&255,n.check=pm(n.check,I,2,0)),l=c=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(I[0]=255&c,I[1]=c>>>8&255,n.check=pm(n.check,I,2,0)),l=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(s<(d=n.length)&&(d=s),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),vy.arraySet(n.head.extra,r,a,d,k)),512&n.flags&&(n.check=pm(n.check,r,d,a)),s-=d,a+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;for(d=0;k=r[a+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k)),k&&d<s;);if(512&n.flags&&(n.check=pm(n.check,r,d,a)),s-=d,a+=d,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;for(d=0;k=r[a+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k)),k&&d<s;);if(512&n.flags&&(n.check=pm(n.check,r,d,a)),s-=d,a+=d,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}l=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;l<32;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}t.adler=n.check=C_(c),l=c=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=l,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(F_(n),n.mode=20,6!==e)break;c>>>=2,l-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,l=c=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(d=n.length){if(s<d&&(d=s),u<d&&(d=u),0===d)break t;vy.arraySet(i,r,a,d,o),s-=d,a+=d,u-=d,o+=d,n.length-=d;break}n.mode=12;break;case 17:for(;l<14;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}n.lens[R[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},S=k_(0,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,S){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(A=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,m=65535&A,!((g=A>>>24)<=l);){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(m<16)c>>>=g,l-=g,n.lens[n.have++]=m;else{if(16===m){for(E=g+2;l<E;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(c>>>=g,l-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],d=3+(3&c),c>>>=2,l-=2}else if(17===m){for(E=g+3;l<E;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}l-=g,k=0,d=3+(7&(c>>>=g)),c>>>=3,l-=3}else{for(E=g+7;l<E;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}l-=g,k=0,d=11+(127&(c>>>=g)),c>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;d--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,x={bits:n.lenbits},S=k_(S_,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,S){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},S=k_(x_,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,S){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=s&&258<=u){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=l,g_(t,h),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,c=n.hold,l=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;y=(A=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,m=65535&A,!((g=A>>>24)<=l);){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(y&&0==(240&y)){for(_=g,w=y,b=m;y=(A=n.lencode[b+((c&(1<<_+w)-1)>>_)])>>>16&255,m=65535&A,!(_+(g=A>>>24)<=l);){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}c>>>=_,l-=_,n.back+=_}if(c>>>=g,l-=g,n.back+=g,n.length=m,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=12;break}if(64&y){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(E=n.extra;l<E;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(A=n.distcode[c&(1<<n.distbits)-1])>>>16&255,m=65535&A,!((g=A>>>24)<=l);){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(0==(240&y)){for(_=g,w=y,b=m;y=(A=n.distcode[b+((c&(1<<_+w)-1)>>_)])>>>16&255,m=65535&A,!(_+(g=A>>>24)<=l);){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}c>>>=_,l-=_,n.back+=_}if(c>>>=g,l-=g,n.back+=g,64&y){t.msg="invalid distance code",n.mode=30;break}n.offset=m,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(E=n.extra;l<E;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===u)break t;if(d=h-u,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}p=d>n.wnext?(d-=n.wnext,n.wsize-d):n.wnext-d,d>n.length&&(d=n.length),v=n.window}else v=i,p=o-n.offset,d=n.length;for(u<d&&(d=u),u-=d,n.length-=d;i[o++]=v[p++],--d;);0===n.length&&(n.mode=21);break;case 26:if(0===u)break t;i[o++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break t;s--,c|=r[a++]<<l,l+=8}if(h-=u,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?pm(n.check,i,h,o-h):fm(n.check,i,h,o-h)),h=u,(n.flags?c:C_(c))!==n.check){t.msg="incorrect data check",n.mode=30;break}l=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break t;s--,c+=r[a++]<<l,l+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}l=c=0}n.mode=29;case 29:S=1;break t;case 30:S=-3;break t;case 31:return-4;case 32:default:return A_}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,n.hold=c,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&B_(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?pm(n.check,i,h,t.next_out-h):fm(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==f&&0===h||4===e)&&S===E_&&(S=-5),S},inflateEnd:function(t){if(!t||!t.state)return A_;var e=t.state;return e.window&&(e.window=null),t.state=null,E_},inflateGetHeader:function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?A_:((n.head=e).done=!1,E_):A_},inflateSetDictionary:function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?A_:11===n.mode&&fm(1,e,r,0)!==n.check?-3:B_(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,E_):A_},inflateInfo:"pako inflate (from Nodeca project)"},V_={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var q_=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},W_=Object.prototype.toString;function K_(t){if(!(this instanceof K_))return new K_(t);this.options=vy.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u_,this.strm.avail_out=0;var n=U_.inflateInit2(this.strm,e.windowBits);if(n!==V_.Z_OK)throw new Error(vm[n]);if(this.header=new q_,U_.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s_.string2buf(e.dictionary):"[object ArrayBuffer]"===W_.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=U_.inflateSetDictionary(this.strm,e.dictionary))!==V_.Z_OK))throw new Error(vm[n])}function Z_(t,e){var n=new K_(e);if(n.push(t,!0),n.err)throw n.msg||vm[n.err];return n.result}K_.prototype.push=function(t,e){var n,r,i,a,o,s=this.strm,u=this.options.chunkSize,c=this.options.dictionary,l=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?V_.Z_FINISH:V_.Z_NO_FLUSH,"string"==typeof t?s.input=s_.binstring2buf(t):"[object ArrayBuffer]"===W_.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new vy.Buf8(u),s.next_out=0,s.avail_out=u),(n=U_.inflate(s,V_.Z_NO_FLUSH))===V_.Z_NEED_DICT&&c&&(n=U_.inflateSetDictionary(this.strm,c)),n===V_.Z_BUF_ERROR&&!0===l&&(n=V_.Z_OK,l=!1),n!==V_.Z_STREAM_END&&n!==V_.Z_OK)return this.onEnd(n),!(this.ended=!0);s.next_out&&(0!==s.avail_out&&n!==V_.Z_STREAM_END&&(0!==s.avail_in||r!==V_.Z_FINISH&&r!==V_.Z_SYNC_FLUSH)||("string"===this.options.to?(i=s_.utf8border(s.output,s.next_out),a=s.next_out-i,o=s_.buf2string(s.output,i),s.next_out=a,s.avail_out=u-a,a&&vy.arraySet(s.output,s.output,i,a,0),this.onData(o)):this.onData(vy.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(l=!0)}while((0<s.avail_in||0===s.avail_out)&&n!==V_.Z_STREAM_END);return n===V_.Z_STREAM_END&&(r=V_.Z_FINISH),r===V_.Z_FINISH?(n=U_.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===V_.Z_OK):r!==V_.Z_SYNC_FLUSH||(this.onEnd(V_.Z_OK),!(s.avail_out=0))},K_.prototype.onData=function(t){this.chunks.push(t)},K_.prototype.onEnd=function(t){t===V_.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=vy.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var G_={Inflate:K_,inflate:Z_,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Z_(t,e)},ungzip:Z_},Y_={};(0,vy.assign)(Y_,y_,G_,V_);function H_(t){Og(this,H_),this.userId=t.user_id,this.nickname=t.nickname,this.profileUrl=t.profile_url,this.metaData=t.meta_data,this.isActive=t.is_active,this.role=t.role}function $_(t){Og(this,$_),this.sender=t}function Q_(){var n=this;Og(this,Q_),this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}function J_(t){Og(this,J_),this.userId=t.user_id,this.nickname=t.nickname,this.profileUrl=t.profile_url,this.metaData=t.meta_data,this.isActive=t.is_active}var X_=Y_,tw=function(){function t(){Og(this,t)}return Lg(t,null,[{key:"encode",value:function(t){return btoa(t)}},{key:"decode",value:function(t){return atob(t)}}]),t}(),ew=function(){function t(){Og(this,t)}return Lg(t,null,[{key:"compress",value:function(t){var e=X_.gzip(t,{to:"string"});return tw.encode(e)}},{key:"decompress",value:function(t){var e=tw.decode(t);return X_.ungzip(e,{to:"string"})}}]),t}(),nw=function(){function r(t,e){var n;return Og(this,r),(n=Fg(this,Dg(r).call(this))).callId=t,n.sdp=e,n}return jg(r,Hg),Lg(r,[{key:"getCMD",value:function(){return Qg}},{key:"getType",value:function(){return ry}},{key:"getData",value:function(){return{call_id:this.callId,sdp:ew.compress(this.sdp)}}}]),r}(),rw=function(){function r(t,e){var n;return Og(this,r),(n=Fg(this,Dg(r).call(this))).callId=t,n.sdp=e,n}return jg(r,Hg),Lg(r,[{key:"getCMD",value:function(){return Qg}},{key:"getType",value:function(){return iy}},{key:"getData",value:function(){return{call_id:this.callId,sdp:ew.compress(this.sdp)}}}]),r}(),iw=function(){function a(t,e,n,r){var i;return Og(this,a),(i=Fg(this,Dg(a).call(this))).callId=t,i.sdp=e,i.sdpMLineIndex=n,i.sdpMid=r,i}return jg(a,Hg),Lg(a,[{key:"getCMD",value:function(){return Qg}},{key:"getType",value:function(){return ay}},{key:"getData",value:function(){return{call_id:this.callId,candidate:{sdp:this.sdp,sdp_mline_index:this.sdpMLineIndex,sdp_mid:this.sdpMid}}}}]),a}(),aw=function(){function e(t){Og(this,e),this.version=t.version,this.requestId=t.request_id,this.cmd=t.cmd,this.type=t.type,this.payload=this.parseData(t.payload)}return Lg(e,[{key:"parseData",value:function(){throw new Error("[".concat(this.constructor.name,"] implement parseData in child class"))}}]),e}(),ow=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,aw),Lg(t,[{key:"parseData",value:function(t){return{isVideoCall:t.is_video_call,callId:t.call_id,caller:new H_(t.caller),callee:new H_(t.callee)}}}]),t}(),sw=function(){function e(t){Og(this,e),this.version=t.version,this.messageId=t.message_id,this.cmd=t.cmd,this.type=t.type,this.payload=this.parseData(t.payload)}return Lg(e,[{key:"getCallId",value:function(){return this.payload.callId}},{key:"parseData",value:function(){throw new Error("[".concat(this.constructor.name,"] implement parseData in child class"))}}]),e}(),uw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{isVideoCall:t.is_video_call,callId:t.call_id,caller:new H_(t.caller),callee:new H_(t.callee),turnCredential:{username:t.turn_credential.username,password:t.turn_credential.password,turnUrls:t.turn_credential.turn_urls},constraints:{audio:t.constraints.audio,video:t.constraints.video}}}}]),t}(),cw=function(){function r(t,e){var n;return Og(this,r),(n=Fg(this,Dg(r).call(this))).callId=t,n.constraints=e,n}return jg(r,Hg),Lg(r,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return ey}},{key:"getData",value:function(){return{call_id:this.callId,constraints:{audio:this.constraints.audio,video:this.constraints.video}}}}]),r}(),lw=function(){function n(t){var e;return Og(this,n),(e=Fg(this,Dg(n).call(this))).callId=t,e}return jg(n,Hg),Lg(n,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return ny}},{key:"getData",value:function(){return{call_id:this.callId}}}]),n}(),fw="dc_caller",hw="dc_callee",dw=function(){function t(e){Og(this,t),this.callId=e.call_id,this.isVideoCall=e.is_video_call,this.userRole=e.user_role,this.startedAt=e.started_at,this.endedAt=e.ended_at,this._participants=e.participants.map(function(t){return new H_(t)}),this.endedBy=this._participants.find(function(t){return t.userId===e.ended_by}),this.duration=e.duration,this.endResult=e.end_result,this.callType=e.call_type}return Lg(t,[{key:"caller",get:function(){return this._participants.find(function(t){return t.role===fw})}},{key:"callee",get:function(){return this._participants.find(function(t){return t.role===hw})}}]),t}(),pw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,aw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,endedCall:new dw(t.ended_call)}}}]),t}(),vw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,endedCall:new dw(t.ended_call)}}}]),t}(),gw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{sdp:ew.decompress(t.sdp),callId:t.call_id}}}]),t}(),yw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{sdp:ew.decompress(t.sdp),callId:t.call_id}}}]),t}(),mw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,candidate:{sdpMLineIndex:t.candidate.sdp_mline_index,sdpMid:t.candidate.sdp_mid,sdp:t.candidate.sdp}}}}]),t}(),_w=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,candidates:t.candidates}}}]),t}(),ww=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,isEnabled:t.is_enabled}}}]),t}(),bw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,isEnabled:t.is_enabled}}}]),t}(),kw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,aw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id}}}]),t}(),Sw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id,turnCredential:{username:t.turn_credential.username,password:t.turn_credential.password,turnUrls:t.turn_credential.turn_urls},constraints:{audio:t.audio,video:t.video}}}}]),t}(),xw=function(){function n(t){var e;return Og(this,n),(e=Fg(this,Dg(n).call(this))).callId=t,e}return jg(n,Hg),Lg(n,[{key:"requireResponse",value:function(){return!0}},{key:"getCMD",value:function(){return $g}},{key:"getType",value:function(){return ly}},{key:"getData",value:function(){return{call_id:this.callId}}}]),n}(),Ew=function(){function n(t){var e;return Og(this,n),(e=Fg(this,Dg(n).call(this))).callId=t,e}return jg(n,Hg),Lg(n,[{key:"getCMD",value:function(){return Qg}},{key:"getType",value:function(){return cy}},{key:"getData",value:function(){return{call_id:this.callId}}}]),n}(),Aw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,sw),Lg(t,[{key:"parseData",value:function(t){return{callId:t.call_id}}}]),t}(),Iw=function(){function r(t,e){var n;return Og(this,r),(n=Fg(this,Dg(r).call(this))).callId=t,n.isEnabled=e,n}return jg(r,Hg),Lg(r,[{key:"getCMD",value:function(){return Jg}},{key:"getType",value:function(){return oy}},{key:"getData",value:function(){return{call_id:this.callId,is_enabled:this.isEnabled}}}]),r}(),Rw=function(){function i(t,e,n){var r;return Og(this,i),(r=Fg(this,Dg(i).call(this,e))).code=t,r._error=n,r}return jg(i,Pg(Error)),i}(),Tw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,Rw),t}(),Cw=1800100,Ow=1800101,Mw=1800200,Lw=1800201,jw=1800202,Dw=1800203,zw=1800204,Nw=1800205,Pw=1800206,Fw=1800207,Bw=1800208,Uw=1800300,Vw=1800302,qw=1800303,Ww=function(){function t(){Og(this,t)}return Lg(t,null,[{key:"createAuthRequest",value:function(t,e,n){return new Vg(t,e,n)}},{key:"createDial",value:function(t,e,n){return new fy(t,e,n)}},{key:"createAccept",value:function(t,e){return new cw(t,e)}},{key:"createDecline",value:function(t){return new lw(t)}},{key:"createCancel",value:function(t){return new hy(t)}},{key:"createEnd",value:function(t){return new dy(t)}},{key:"createTimeout",value:function(t,e){return new py(t,e)}},{key:"createNoAnswer",value:function(t){return new xw(t)}},{key:"createOffer",value:function(t,e){return new nw(t,e)}},{key:"createAnswer",value:function(t,e){return new rw(t,e)}},{key:"createCandidate",value:function(t,e,n,r){return new iw(t,e,n,r)}},{key:"createAudio",value:function(t,e){return new Iw(t,e)}},{key:"createAlive",value:function(t){return new Ew(t)}},{key:"parse",value:function(t){try{switch(t.type){case"dial_ack":return new ow(t);case"dial":return new uw(t);case"no_answer_ack":return new pw(t);case"no_answer":return new vw(t);case"cancel_ack":return new pw(t);case"cancel":return new vw(t);case"accept_ack":return new kw(t);case"accept":return new Sw(t);case"other_device_accepted":return new Aw(t);case"decline_ack":return new pw(t);case"decline":return new vw(t);case"offer":return new gw(t);case"answer":return new yw(t);case"candidate":return new mw(t);case"remove_candidates":return new _w(t);case"audio":return new ww(t);case"video":return new bw(t);case"end_ack":return new pw(t);case"end":return new vw(t);case"timeout_ack":return new pw(t);case"timeout":return new vw(t);case"unknown_end_ack":return new pw(t);case"unknown_end":return new vw(t);default:throw new Error("unhandled command data. ".concat(JSON.stringify(t)))}}catch(t){throw new Tw(Nw,"failed to parse the response",t)}}}]),t}(),Kw=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,Rw),t}(),Zw="0.6.1",Gw=function(){function t(){Og(this,t)}return Lg(t,null,[{key:"getOsVersion",value:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"undefined"}}]),t}(),Yw=function(){function n(t,e){Og(this,n),this.appId=t,this.clientId=e,this.fetch=Ug,this.sessionKey=null}return Lg(n,[{key:"setSessionKey",value:function(t){this.sessionKey=t}},{key:"send",value:function(t){if(!t.getApiOption)throw new Error("invalid api request ".concat(JSON.stringify(t)));var a=t.getApiOption();if(a.auth&&!this.sessionKey)throw new Error("tried to call private api without auth");var e=Object.assign({"Content-Type":"application/json"},a.headers);e.SendBird="JS,".concat(Gw.getOsVersion(),",").concat(Zw),a.clientId&&(e["SBCall-Client-Id"]=this.clientId),this.sessionKey&&(e["SBCall-Session-Token"]=this.sessionKey);var n=this.fetch("".concat(this._getHost()).concat(a.path),{method:a.method,body:JSON.stringify(a.body),headers:e}),r=n.then(function(t){return t.text()});return Promise.all([n,r]).then(function(t){var e=Bg(t,2),n=e[0],r=e[1],i=null;try{i=JSON.parse(r)}catch(t){throw new Error("request [".concat(a.path,"] failed with ").concat(n.status,". ").concat(r))}if(n.ok)return i.cmd?Ww.parse(i):i;if(i.error)throw new Kw(i.code,i.message);if(500===n.status)throw new Tw(Fw,"Internal server error");if(300<=n.status&&n.status<400)throw new Tw(Bw,"Malformed data error");throw new Tw(Mw,"HTTP request fail")})}},{key:"_getHost",value:function(){return"https://api-IDENTIFIER.v2oip.sendbird.com".replace("IDENTIFIER",this.appId)}}]),n}(),Hw=function(){function t(){Og(this,t),this.processed=new Map}return Lg(t,[{key:"process",value:function(t){return this._isProcessed(t)?(this.processed.delete(t.messageId),!1):(this._setProcessed(t),!0)}},{key:"_isProcessed",value:function(t){return this.processed.has(t.messageId)}},{key:"_setProcessed",value:function(t){this.processed.set(t.messageId,!0)}}]),t}(),$w=function(){function n(t,e){Og(this,n),this.eventDispatcher=t,this.eventDeduplicator=e}return Lg(n,[{key:"onWebSocketCommandReceived",value:function(t){this._onCommandReceived(t)}},{key:"_onCommandReceived",value:function(t){this.eventDeduplicator.process(t)&&this.eventDispatcher.dispatch(t)}}]),n}(),Qw=function(){function t(){Og(this,t),this.listeners=[]}return Lg(t,[{key:"listen",value:function(t){if(!t.onEvent)throw new Error("event listener must implement onEvent");this.listeners.push(t)}},{key:"dispatch",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=this.listeners[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){i.value.onEvent(t)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}}]),t}(),Jw=function(){function n(t,e){Og(this,n),this.wsClient=t,this.apiClient=e}return Lg(n,[{key:"send",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isWsOnly()){t.next=6;break}if(this.wsClient.isConnected()){t.next=3;break}throw new Tw(Lw,"WebSocket Not connected");case 3:return t.next=5,regeneratorRuntime.awrap(this.wsClient.send(e));case 5:return t.abrupt("return",t.sent);case 6:if("function"==typeof e.serialize&&this.wsClient.isConnected())return t.next=9,regeneratorRuntime.awrap(this.wsClient.send(e));t.next=10;break;case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,regeneratorRuntime.awrap(this.apiClient.send(e));case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},null,this)}}]),n}(),Xw={ALL:"ALL",TRACE:"TRACE",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},tb={ALL:{level:-1,name:Xw.ALL},TRACE:{level:1,name:Xw.TRACE},INFO:{level:2,name:Xw.INFO},WARN:{level:3,name:Xw.WARN},ERROR:{level:4,name:Xw.ERROR},NONE:{level:100,name:Xw.NONE}},eb=new(function(){function t(){Og(this,t),this.level=Xw.ERROR}return Lg(t,[{key:"setLoggerLevel",value:function(t){this.level=t}},{key:"_enabledFor",value:function(t){try{return tb[this.level].level<=tb[t].level}catch(t){return!1}}},{key:"_permit",value:function(t){var e=t===Xw.INFO||Xw.TRACE?"log":t.toLowerCase();if(this._enabledFor(t)&&console&&console[e]){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o;if("string"==typeof r[0])(a=console)[e].apply(a,r);else(o=console)[e].apply(o,r)}}},{key:"trace",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._permit.apply(this,[Xw.TRACE].concat(e))}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._permit.apply(this,[Xw.INFO].concat(e))}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._permit.apply(this,[Xw.WARN].concat(e))}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._permit.apply(this,[Xw.ERROR].concat(e))}}]),t}()),nb=function(){function e(t){Og(this,e),this.callFactory=t,this.calls=new Map,this.dialListeners=new Map}return Lg(e,[{key:"getCall",value:function(t){return this.calls.get(t)}},{key:"dial",value:function(t,e,n,r){var i=this,a=this.callFactory.createDirectCall(),o=a.dial(t,e,n).then(function(t){return i._register(a.callId,a),t});return r&&(o.then(function(t){return r(a)}).catch(function(t){return console.error(t)}),o.catch(function(t){return r(null,t)})),a}},{key:"onEvent",value:function(t){switch(t.type){case"dial":this._onCallDialed(t);break;case"cancel":this._has(t.getCallId())?this._passToCall(t):this._onCallCanceled(t);break;default:this._passToCall(t)}}},{key:"addListener",value:function(t,e){this.dialListeners.set(t,e)}},{key:"removeListener",value:function(t){this.dialListeners.delete(t)}},{key:"removeAllListeners",value:function(){this.dialListeners.clear()}},{key:"clear",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.calls.values()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;try{a.end()}catch(t){eb.error("failed to clear call.")}}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"_register",value:function(t,e){if(!t)throw new Error("call id is not set in call");if(!e)throw new Error("call is null");this.calls.set(t,e)}},{key:"_onCallDialed",value:function(t){var e=this,n=this.callFactory.createDirectCall();this._register(t.getCallId(),n),n.onRinging=function(){return e._onCallRinging(n)},n.dialed(t)}},{key:"_onCallCanceled",value:function(t){var e=this,n=this.callFactory.createDirectCall();this._register(t.getCallId(),n),n.onRinging=function(){return e._onCallRinging(n)},n.canceled(t)}},{key:"_onCallRinging",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=this.dialListeners.values()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value;o.onRinging&&o.onRinging(t)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"_passToCall",value:function(t){this._has(t.getCallId())?this.calls.get(t.getCallId()).onEvent(t):eb.warn("received command ".concat(t.type," for non-existing call ").concat(t.getCallId()))}},{key:"_has",value:function(t){return this.calls.has(t)}}]),e}(),rb=function(){function e(t){Og(this,e),this.call=t,this.timer=null}return Lg(e,[{key:"getType",value:function(){throw new Error("[".concat(this.constructor.name,"] implement getType in child class"))}},{key:"dial",value:function(){eb.info("[".concat(this.getType(),"] dial"))}},{key:"dialSent",value:function(){eb.info("[".concat(this.getType(),"] dialSent"))}},{key:"dialFailed",value:function(){eb.info("[".concat(this.getType(),"] dialFailed"))}},{key:"accept",value:function(){eb.info("[".concat(this.getType(),"] accept"))}},{key:"acceptSent",value:function(){eb.info("[".concat(this.getType(),"] acceptSent"))}},{key:"acceptFailed",value:function(){eb.info("[".concat(this.getType(),"] acceptFailed"))}},{key:"receiveAccept",value:function(){eb.info("[".concat(this.getType(),"] receiveAccept"))}},{key:"receiveAccepted",value:function(){eb.info("[".concat(this.getType(),"] receiveAccepted"))}},{key:"end",value:function(){eb.info("[".concat(this.getType(),"] end"))}},{key:"endSent",value:function(){eb.info("[".concat(this.getType(),"] endSent"))}},{key:"receiveEnd",value:function(){eb.info("[".concat(this.getType(),"] receiveEnd"))}},{key:"timeout",value:function(){eb.info("[".concat(this.getType(),"] timeout"))}},{key:"offer",value:function(){eb.info("[".concat(this.getType(),"] offer"))}},{key:"receiveOffer",value:function(){eb.info("[".concat(this.getType(),"] receiveOffer"))}},{key:"receiveAnswer",value:function(){eb.info("[".concat(this.getType(),"] receiveAnswer"))}},{key:"receiveCandidate",value:function(){eb.info("[".concat(this.getType(),"] receiveCandidate"))}},{key:"connected",value:function(){eb.info("[".concat(this.getType(),"] connected"))}},{key:"closed",value:function(){eb.info("[".concat(this.getType(),"] closed"))}},{key:"onStart",value:function(){}},{key:"onDestroy",value:function(){}},{key:"_createTimer",value:function(t,e){var n=this;this.timer=setTimeout(function(){n._removeTimer(),t()},e||this._getTimeoutTime())}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_removeTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}}]),e}(),ib="idle",ab="dialing",ob="ringing",sb="accepting",ub="offering",cb="answering",lb="connected",fb="ended",hb="aborted",db="closing",pb="ending",vb="canceled",gb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return fb}},{key:"endSent",value:function(t){this.call.setEndInfo(t.payload.endedCall)}}]),t}(),yb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return pb}},{key:"onStart",value:function(){this.call.fireOnEnded(),this.call.changeState(new gb(this.call))}}]),t}(),mb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return db}},{key:"onStart",value:function(){this.call.stopToSendAlive(),this.call.closeRTCConnection()}},{key:"endSent",value:function(t){this.call.setEndInfo(t.payload.endedCall)}},{key:"closed",value:function(){this.call.changeState(new yb(this.call))}}]),t}(),_b="no_answer",wb="canceled",bb="declined",kb="other_device_accepted",Sb="completed",xb="failed_to_dial",Eb="failed_to_accept",Ab=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return lb}},{key:"onStart",value:function(){this.call.fireOnConnected()}},{key:"onDestroy",value:function(){}},{key:"receiveCandidate",value:function(t){var e=t.payload.candidate;this.call.addCandidate({sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid,candidate:e.sdp})}},{key:"end",value:function(){this.call.sendEndCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(Sb),this.call.changeState(new mb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndResult(t.payload.endedCall.endResult),this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new mb(this.call))}}]),t}(),Ib="answering_timeout",Rb="offering_timeout",Tb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return ub}},{key:"onStart",value:function(){var t=this;this._createTimer(function(){t.call.sendTimeoutCommand(Rb).catch(function(t){return eb.warn(t)})}),this.call.fireOnEstablished(),this.call.createRtcConnection(),this.call.addTracks()}},{key:"onDestroy",value:function(){this._removeTimer()}},{key:"receiveOffer",value:function(t){this.call.setRemoteDescription("offer",t.payload.sdp),this.call.sendAnswer().catch(function(t){return eb.warn(t)})}},{key:"receiveAnswer",value:function(t){this.call.setStartedAt(),this.call.setRemoteDescription("answer",t.payload.sdp)}},{key:"receiveCandidate",value:function(t){var e=t.payload.candidate;this.call.addCandidate({sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid,candidate:e.sdp})}},{key:"connected",value:function(){this.call.changeState(new Ab(this.call))}},{key:"end",value:function(){this.call.sendEndCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(Sb),this.call.changeState(new mb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndResult(t.payload.endedCall.endResult),this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new mb(this.call))}}]),t}(),Cb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return ab}},{key:"onStart",value:function(){var t=this;this._createTimer(function(){t._noAnswer()},this._getTimeoutTime()),this.call.startToSendAlive()}},{key:"onDestroy",value:function(){this._removeTimer()}},{key:"receiveAccept",value:function(t){var e=t.payload;this.call.setTurnCredential(e.turnCredential),this.call.setRemoteOption(e.constraints),this.call.changeState(new Tb(this.call))}},{key:"end",value:function(){this.call.sendCancelCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(wb),this.call.changeState(new mb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndResult(t.payload.endedCall.endResult),this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new mb(this.call))}},{key:"_getTimeoutTime",value:function(){return 6e4}},{key:"_noAnswer",value:function(){this.call.sendNoAnswerCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(_b),this.call.changeState(new mb(this.call))}}]),t}(),Ob=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return hb}},{key:"onStart",value:function(){this.call.stopToSendAlive(),this.call.fireOnEnded()}},{key:"dialSent",value:function(t){var e=t.payload;this.call.setIsVideoCall(e.isVideoCall),this.call.setCallInfo(e.callId,e.caller,e.callee),this.call.sendCancelCommand().catch(function(t){return eb.warn(t)})}},{key:"dialFailed",value:function(){this.call.changeState(new gb(this.call))}},{key:"endSent",value:function(t){this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new gb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new gb(this.call))}}]),t}(),Mb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,Rw),t}(),Lb=function(){function e(t){return Og(this,e),Fg(this,Dg(e).call(this,t))}return jg(e,rb),Lg(e,[{key:"getType",value:function(){return ib}},{key:"dial",value:function(t,e,n,r){this.dialDeferred=r,this.call.setIsVideoCall(e),this.call.setLocalOption(n),this.call.sendDialCommand(t).then(function(){r.resolve()}).catch(function(t){r.reject(t)})}},{key:"dialSent",value:function(t){var e=t.payload;this.call.setIsVideoCall(e.isVideoCall),this.call.setCallInfo(e.callId,e.caller,e.callee),this.call.changeState(new Cb(this.call))}},{key:"dialFailed",value:function(){this.call.setEndResult(xb),this.call.changeState(new mb(this.call))}},{key:"end",value:function(){this.call.setEndResult(wb),this.dialDeferred.reject(new Mb(Cw,"Call Canceled")),this.call.changeState(new Ob(this.call))}}]),e}(),jb=function(){function r(t,e){var n;return Og(this,r),(n=Fg(this,Dg(r).call(this,t))).offerCommand=e,n}return jg(r,rb),Lg(r,[{key:"getType",value:function(){return cb}},{key:"onStart",value:function(){var t=this;this._createTimer(function(){t.call.sendTimeoutCommand(Ib).catch(function(t){return eb.warn(t)})}),this.call.fireOnEstablished(),this.call.createRtcConnection(),this._tryAnswer(this.offerCommand)}},{key:"onDestroy",value:function(){this._removeTimer()}},{key:"receiveOffer",value:function(t){this._tryAnswer(t)}},{key:"receiveAnswer",value:function(t){this.call.setRemoteDescription("answer",t.payload.sdp)}},{key:"receiveCandidate",value:function(t){var e=t.payload.candidate;this.call.addCandidate({sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid,candidate:e.sdp})}},{key:"connected",value:function(){this.call.changeState(new Ab(this.call))}},{key:"end",value:function(){this.call.sendEndCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(Sb),this.call.changeState(new mb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndResult(t.payload.endedCall.endResult),this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new mb(this.call))}},{key:"_tryAnswer",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return this.call.setStartedAt(),t.next=5,regeneratorRuntime.awrap(this.call.setRemoteDescription("offer",e.payload.sdp));case 5:return t.next=7,regeneratorRuntime.awrap(this.call.addTracks());case 7:this.call.sendAnswer().catch(function(t){return eb.warn(t)});case 8:case"end":return t.stop()}},null,this)}}]),r}(),Db=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return sb}},{key:"acceptSent",value:function(){this.call.changeState(new jb(this.call))}},{key:"receiveOffer",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.call.changeState(new jb(this.call,e));case 1:case"end":return t.stop()}},null,this)}},{key:"acceptFailed",value:function(){this.call.setEndResult(Eb),this.call.changeState(new mb(this.call))}},{key:"end",value:function(){this.call.sendEndCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(Sb),this.call.changeState(new mb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndResult(t.payload.endedCall.endResult),this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new mb(this.call))}}]),t}(),zb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return ob}},{key:"onStart",value:function(){var t=this;this._createTimer(function(){t._noAnswer()}),this.call.startToSendAlive(),this.call.fireOnRinging()}},{key:"onDestroy",value:function(){this._removeTimer()}},{key:"accept",value:function(t,e){var n=this;this.call.setLocalOption(t),this.call.sendAcceptCommand().then(function(){e.resolve(n.call)}).catch(function(t){e.reject(t)}),this.call.changeState(new Db(this.call))}},{key:"receiveAccepted",value:function(){this.call.setEndResult(kb),this.call.changeState(new mb(this.call))}},{key:"end",value:function(){this.call.sendDeclineCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(bb),this.call.changeState(new mb(this.call))}},{key:"receiveEnd",value:function(t){this.call.setEndResult(t.payload.endedCall.endResult),this.call.setEndInfo(t.payload.endedCall),this.call.changeState(new mb(this.call))}},{key:"_noAnswer",value:function(){this.call.sendNoAnswerCommand().catch(function(t){return eb.warn(t)}),this.call.setEndResult(_b),this.call.changeState(new mb(this.call))}}]),t}(),Nb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,rb),Lg(t,[{key:"getType",value:function(){return vb}},{key:"onStart",value:function(){this.call.fireOnRinging(),this.call.changeState(new mb(this.call))}}]),t}(),Pb="relay",Fb=function(){function n(t){var e;return Og(this,n),(e=Fg(this,Dg(n).call(this,t))).onEstablished=null,e.onConnected=null,e.onReconnecting=null,e.onReconnected=null,e.onRemoteVideoEnabled=null,e.onRemoteAudioEnabled=null,e.onEnded=null,e.onRinging=null,e._localVideoView=null,e._remoteVideoView=null,e._callId=null,e._callee=null,e._state=null,e._isVideoCall=null,e._listeners=[],e._turnCredential=null,e._localConstraints=null,e._remoteConstraints=null,e._endResult=null,e._endInfo=null,e._startedAt=null,e._aliveTimer=null,e._isCaller=null,e}return jg(n,$_),Lg(n,[{key:"getDuration",value:function(){return this._endInfo?this._endInfo.duration:this._calcDuration()}},{key:"changeState",value:function(t){eb.info("state: ".concat(this._state?this._state.getType():"null"," -> ").concat(t.getType())),this._state&&this._state.onDestroy(),this._state=t,this._state.onStart()}},{key:"send",value:function(t){return this.sender.send(t)}},{key:"dial",value:function(t,e,n){this._isCaller=!0,this.changeState(new Lb(this));var r=new Q_;return this._state.dial(t,e,n,r),r.promise}},{key:"dialed",value:function(t){var e=t.payload;this.setIsVideoCall(e.isVideoCall),this.setCallInfo(e.callId,e.caller,e.callee),this.setRemoteOption(e.constraints),this.setTurnCredential(e.turnCredential),this.changeState(new zb(this))}},{key:"canceled",value:function(t){this.setEndResult(t.payload.endedCall.endResult),this.setEndInfo(t.payload.endedCall),this.changeState(new Nb(this))}},{key:"accept",value:function(t){var e=new Q_;return this._state.accept(t,e),e.promise}},{key:"end",value:function(){this._state.end()}},{key:"setIsVideoCall",value:function(t){this._isVideoCall=t}},{key:"setLocalOption",value:function(t){this._localConstraints={audio:t.audioEnabled,video:t.videoEnabled},this._localVideoView=t.localVideoView,this._remoteVideoView=t.remoteVideoView}},{key:"setRemoteOption",value:function(t){this._remoteConstraints=t}},{key:"setCallInfo",value:function(t,e,n){this._callId=t,this._caller=e,this._callee=n}},{key:"setTurnCredential",value:function(t){this._turnCredential=t}},{key:"setEndResult",value:function(t){this._endResult=t}},{key:"setEndInfo",value:function(t){this._endInfo=t}},{key:"closeRTCConnection",value:function(){this._rtcConnection&&(this._rtcConnection.onnegotiationneeded=null,this._rtcConnection.onicecandidate=null,this._rtcConnection.oniceconnectionstatechange=null,this._rtcConnection.onconnectionstatechange=null,this._rtcConnection.close(),this._rtcConnection=null),this._state.closed()}},{key:"createRtcConnection",value:function(){var e=this,t=new RTCPeerConnection({iceServers:[{username:this._turnCredential.username,credential:this._turnCredential.password,urls:this._turnCredential.turnUrls}],iceTransportPolicy:Pb});t.onnegotiationneeded=function(){return e.handleNegotiation()},t.onicecandidate=function(t){return e.handleIceCandidate(t)},t.onconnectionstatechange=function(){return e.handleConnectionStateChange(t)},t.oniceconnectionstatechange=function(){return e.handleIceConnectionStateChange(t)},t.ontrack=function(t){return e.handleRemoteTrack(t)},this._rtcConnection=t}},{key:"handleNegotiation",value:function(){var e,n;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this._rtcConnection.createOffer());case 2:return e=t.sent,t.next=5,regeneratorRuntime.awrap(this._rtcConnection.setLocalDescription(e));case 5:n=Ww.createOffer(this.callId,this._rtcConnection.localDescription.sdp),this.send(n);case 7:case"end":return t.stop()}},null,this)}},{key:"handleIceCandidate",value:function(t){if(t.candidate){var e=Ww.createCandidate(this.callId,t.candidate.candidate,t.candidate.sdpMLineIndex,t.candidate.sdpMid);this.send(e)}}},{key:"handleIceConnectionStateChange",value:function(t){switch(t.iceConnectionState){case"closed":this._state.closed()}}},{key:"handleConnectionStateChange",value:function(t){switch(t.connectionState){case"connected":eb.info("[".concat(this._state.getType(),"] RtcConnection connected")),this._state.connected();break;case"disconnected":eb.info("[".concat(this._state.getType(),"] RtcConnection disconnected"));break;case"failed":eb.info("[".concat(this._state.getType(),"] RtcConnection failed"));break;case"closed":eb.info("[".concat(this._state.getType(),"] RtcConnection closed")),this._state.closed()}}},{key:"handleRemoteTrack",value:function(t){this._remoteVideoView&&(this._remoteVideoView.srcObject=t.streams[0])}},{key:"addTracks",value:function(){var e,n=this;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(navigator.mediaDevices.getUserMedia(this._localConstraints));case 2:(e=t.sent).getTracks().forEach(function(t){t.enabled=n._localConstraints.audio,n._rtcConnection.addTrack(t,e)}),this._localVideoView&&(this._localVideoView.srcObject=e);case 5:case"end":return t.stop()}},null,this)}},{key:"mute",value:function(){this._rtcConnection.getSenders().forEach(function(t){var e=t.track;e&&"audio"===e.kind&&(e.enabled=!1)}),this._localConstraints.audio=!1,this.sendAudioCommand().catch(function(t){return eb.warn(t)})}},{key:"unmute",value:function(){this._rtcConnection.getSenders().forEach(function(t){var e=t.track;e&&"audio"===e.kind&&(e.enabled=!0)}),this._localConstraints.audio=!0,this.sendAudioCommand().catch(function(t){return eb.warn(t)})}},{key:"setRemoteDescription",value:function(t,e){var n=new RTCSessionDescription({type:t,sdp:e});return this._rtcConnection.setRemoteDescription(n)}},{key:"sendAnswer",value:function(){var e,n;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this._rtcConnection.createAnswer());case 2:return(e=t.sent).sdp=e.sdp.replace("actpass","active"),t.next=6,regeneratorRuntime.awrap(this._rtcConnection.setLocalDescription(e));case 6:n=Ww.createAnswer(this.callId,this._rtcConnection.localDescription.sdp),this.send(n);case 8:case"end":return t.stop()}},null,this)}},{key:"fireOnRinging",value:function(){this.onRinging&&this.onRinging()}},{key:"fireOnEstablished",value:function(){this.onEstablished&&this.onEstablished(this)}},{key:"fireOnEnded",value:function(){this.onEnded&&this.onEnded(this)}},{key:"fireOnConnected",value:function(){this.onConnected&&this.onConnected(this)}},{key:"addCandidate",value:function(t){this._rtcConnection.addIceCandidate(t)}},{key:"sendDialCommand",value:function(t){var e=this,n=Ww.createDial(t,this._isVideoCall,{video:this._localConstraints.video,audio:this._localConstraints.audio});return this.send(n).then(function(t){e._state.dialSent(t)}).catch(function(t){throw e._state.dialFailed(t),t})}},{key:"sendAcceptCommand",value:function(){var e=this,t=Ww.createAccept(this.callId,this._localConstraints);return this.send(t).then(function(t){e._state.acceptSent(t)}).catch(function(t){throw e._state.acceptFailed(),t})}},{key:"sendCancelCommand",value:function(){var e=this,t=Ww.createCancel(this.callId);return this.send(t).then(function(t){e._state.endSent(t)})}},{key:"sendDeclineCommand",value:function(){var e=this,t=Ww.createDecline(this.callId);return this.send(t).then(function(t){e._state.endSent(t)})}},{key:"sendEndCommand",value:function(){var e=this,t=Ww.createEnd(this.callId);return this.send(t).then(function(t){e._state.endSent(t)})}},{key:"sendTimeoutCommand",value:function(t){var e=this,n=Ww.createTimeout(this.callId,t);return this.send(n).then(function(t){e._state.endSent(t)})}},{key:"sendNoAnswerCommand",value:function(){var e=this,t=Ww.createNoAnswer(this.callId);return this.send(t).then(function(t){e._state.endSent(t)})}},{key:"sendAliveCommand",value:function(){var t=Ww.createAlive(this.callId);return this.send(t)}},{key:"sendAudioCommand",value:function(){var t=Ww.createAudio(this.callId,this._localConstraints.audio);return this.send(t)}},{key:"startToSendAlive",value:function(){var t=this;this._aliveTimer=setInterval(function(){t.sendAliveCommand().catch(function(t){return eb.warn(t)})},3e4)}},{key:"stopToSendAlive",value:function(){this._aliveTimer&&(clearInterval(this._aliveTimer),this._aliveTimer=null)}},{key:"_receiveAudio",value:function(t){this._remoteConstraints.audio=t.payload.isEnabled,this.onRemoteAudioEnabled&&this.onRemoteAudioEnabled(this)}},{key:"_receiveVideo",value:function(t){this._remoteConstraints.video=t.payload.isEnabled,this.onRemoteVideoEnabled&&this.onRemoteVideoEnabled(this)}},{key:"onEvent",value:function(t){switch(t.type){case"accept":this._state.receiveAccept(t);break;case"other_device_accepted":this._state.receiveAccepted(t);break;case"decline":case"cancel":case"end":case"timeout":case"no_answer":this._state.receiveEnd(t);break;case"offer":this._state.receiveOffer(t);break;case"answer":this._state.receiveAnswer(t);break;case"candidate":this._state.receiveCandidate(t);break;case"remove_candidates":break;case"audio":this._receiveAudio(t);break;case"video":this._receiveVideo(t);break;default:throw new Error("unhandled call event ".concat(t.type))}}},{key:"addEventListener",value:function(t){this._listeners.push(t)}},{key:"broadcastStateChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=this._listeners[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){(0,i.value)(t)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"setStartedAt",value:function(){null!=this._startedAt&&(this._startedAt=Date.now())}},{key:"_calcDuration",value:function(){return null==this._startedAt?0:Date.now()-this._startedAt}},{key:"callId",get:function(){return this._callId}},{key:"isVideoCall",get:function(){return this._isVideoCall}},{key:"caller",get:function(){return this._caller}},{key:"callee",get:function(){return this._callee}},{key:"localUser",get:function(){return this._isCaller?this.caller:this.callee}},{key:"remoteUser",get:function(){return this._isCaller?this.callee:this.caller}},{key:"isLocalAudioEnabled",get:function(){return this._localConstraints.audio}},{key:"isRemoteAudioEnabled",get:function(){return this._remoteConstraints.audio}},{key:"myRole",get:function(){return this._isCaller?fw:hw}},{key:"endedBy",get:function(){return this._endInfo?this._endInfo.endedBy:this._localEndInfo.endedBy}},{key:"isEnded",get:function(){return this._state.getType()===pb||this._state.getType()===fb}},{key:"endResult",get:function(){return this._endResult}}]),n}(),Bb=function(){function e(t){Og(this,e),this.sender=t}return Lg(e,[{key:"createDirectCall",value:function(){return new Fb(this.sender)}}]),e}(),Ub=function(){function r(t,e,n){Og(this,r),this.appId=t,this.clientId=e,this.ws=null,this.wsResponseProcessor=n,this.retryTimer=null,this.closed=!1,this.sessionKey=null}return Lg(r,[{key:"setSessionKey",value:function(t){this.sessionKey=t}},{key:"connect",value:function(){var n=this;if(!this.sessionKey)throw new Error("tried to connect to websocket server without auth");return new Promise(function(t,e){n.ws=n._createWebSocket(),n.ws.onopen=function(){t()},n.ws.onmessage=function(t){n.wsResponseProcessor.process(t.data)},n.ws.onerror=function(t){return n._onError(t)},n.ws.onclose=function(){n._onClose(),e(new Tw(jw,"WebSocket Connection Failure"))}})}},{key:"disconnect",value:function(){this.ws&&(this.closed=!0,this._removeRetryTimer(),this.ws.onopen=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws.onclose=null,this.ws.close(),this.wsResponseProcessor.rejectAll(new Tw(zw,"Request failed due to connection lost connection lost")),this.ws=null)}},{key:"send",value:function(t){var e=t.requireResponse()?this.wsResponseProcessor.register(t.requestId):new Promise(function(t){return t()}),n=t.serialize();return this.ws.send(n+"\n"),e}},{key:"isConnected",value:function(){return!!this.ws&&1===this.ws.readyState}},{key:"_onError",value:function(t){eb.error(t)}},{key:"_onClose",value:function(){this._startToReconnect()}},{key:"_createWebSocket",value:function(){var t="/?sbcall_session_token=".concat(encodeURIComponent(this.sessionKey),"&sbcall_client_id=").concat(this.clientId,"&sendbird=").concat(this._getVersion());return new WebSocket(this._getHost()+t)}},{key:"_getVersion",value:function(){return"JS,".concat(Gw.getOsVersion(),",").concat(Zw)}},{key:"_getHost",value:function(){return"wss://ws-IDENTIFIER.v2oip.sendbird.com".replace("IDENTIFIER",this.appId)}},{key:"_startToReconnect",value:function(){var e=this;if(!this.closed&&!this.retryTimer)return new Promise(function(t){e.retryTimer=setTimeout(function(){e._removeRetryTimer(),e.connect(),t()},e._getRetryTime())})}},{key:"_removeRetryTimer",value:function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)}},{key:"_getRetryTime",value:function(){return 2e3}}]),r}(),Vb=function(){function e(t){Og(this,e),this.eventReceiver=t,this.requests=new Map}return Lg(e,[{key:"register",value:function(t){if(!t)throw new Error("invalid request id");var e=new Q_;return this.requests.set(t,{deferred:e,timer:this._createTimeoutTimer(t)}),e.promise}},{key:"process",value:function(t){var e,n=JSON.parse(t),r=n.request_id;if(!r&&n.cmd)return e=Ww.parse(n),void this._processEvent(e);if((r||n.cmd)&&this.requests.has(r)){var i=this.requests.get(r).deferred;if(this._unregister(r),n.error)eb.error(r,n.message),i.reject(new Kw(n.code,n.message));else{var a=Ww.parse(n);i.resolve(a)}}}},{key:"rejectAll",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=this.requests.keys()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=i.value,s=this.requests.get(o);clearTimeout(s.timer),s.deferred.reject(t)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}this.requests.clear()}},{key:"_unregister",value:function(t){if(this.requests.has(t)){var e=this.requests.get(t).timer;clearTimeout(e),this.requests.delete(t)}}},{key:"_processEvent",value:function(t){this.eventReceiver.onWebSocketCommandReceived(t)}},{key:"_createTimeoutTimer",value:function(e){var n=this;return setTimeout(function(){var t=n.requests.get(e).deferred;n._unregister(e),t.reject(new Tw(Dw,"ACK timeout"))},this._getTimeoutTime())}},{key:"_getTimeoutTime",value:function(){return 6e4}}]),e}(),qb=function(){function t(){Og(this,t)}return Lg(t,[{key:"isWsOnly",value:function(){return!1}},{key:"getApiOption",value:function(){return{auth:!0,path:this.getPath(),method:this.getMethod(),body:this.getData()}}},{key:"getData",value:function(){}},{key:"getPath",value:function(){throw new Error("[".concat(this.constructor.name,"] implement getPath in child class"))}},{key:"getMethod",value:function(){throw new Error("[".concat(this.constructor.name,"] implement getMethod in child class"))}}]),t}(),Wb=function(){function t(){Og(this,t)}return Lg(t,null,[{key:"createQuery",value:function(e){var n=this;return Object.keys(e).filter(function(t){return null!=e[t]}).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(n.toQueryParam(e[t]))}).join("&")}},{key:"toQueryParam",value:function(t){return Array.isArray(t)?t.map(function(t){return encodeURIComponent(t.toString())}).join(","):encodeURIComponent(t.toString())}}]),t}(),Kb=function(){function i(t,e,n){var r;return Og(this,i),(r=Fg(this,Dg(i).call(this))).userId=t,r.params=e,r.next=n,r}return jg(i,qb),Lg(i,[{key:"getPath",value:function(){return"/v1/users/".concat(encodeURIComponent(this.userId),"/calls?").concat(this._createQuery())}},{key:"getMethod",value:function(){return"GET"}},{key:"_createQuery",value:function(){return Wb.createQuery({role:this.params.myRole,limit:this.params.limit,end_result:this.params.endResults,next:this.next})}}]),i}(),Zb=function(){function r(t,e,n){Og(this,r),this.isLoading=!1,this.hasNext=!0,this.userId=t,this.params=e,this.sender=n,this.nextToken=null}return Lg(r,[{key:"next",value:function(e){var n,r;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLoading)throw new Tw(Pw,"Query is in progress");t.next=2;break;case 2:if(this.hasNext){t.next=4;break}return t.abrupt("return",[]);case 4:return this.isLoading=!0,t.prev=5,t.next=8,regeneratorRuntime.awrap(this.sender.send(this._createCommand()));case 8:if(n=t.sent,this.nextToken=n.next,this.hasNext=n.has_next,this.isLoading=!1,r=n.calls.map(function(t){return new dw(t)}),e)try{e(r)}catch(t){console.error(t)}return t.abrupt("return",r);case 17:if(t.prev=17,t.t0=t.catch(5),!e){t.next=23;break}e(null,t.t0),t.next=24;break;case 23:throw t.t0;case 24:case"end":return t.stop()}},null,this,[[5,17]])}},{key:"_asyncInternal",value:function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}})}},{key:"_createCommand",value:function(){return new Kb(this.userId,this.params,this.nextToken)}}]),r}(),Gb=function(){function t(){return Og(this,t),Fg(this,Dg(t).apply(this,arguments))}return jg(t,Rw),t}(),Yb=function(){function t(){Og(this,t),this.sender=null,this.receiver=null,this.callManager=null,this.wsClient=null,this.apiClient=null,this.appId=null,this.clientId=null,this.user=null}return Lg(t,[{key:"init",value:function(t){if(!t)throw new Gb(Uw,"appId is required");this.appId=t,this.clientId=Yg();var e=new Hw,n=new Qw,r=new $w(n,e),i=new Vb(r);this.wsClient=new Ub(this.appId,this.clientId,i),this.apiClient=new Yw(this.appId,this.clientId),this.receiver=r,this.sender=new Jw(this.wsClient,this.apiClient);var a=new Bb(this.sender);this.callManager=new nb(a),n.listen(this.callManager)}},{key:"authenticate",value:function(t,e){var n=this,r=t.userId,i=t.accessToken;if(this._checkInitialized(),!r)throw new Gb(Uw,"userId is required");var a=Ww.createAuthRequest(this.appId,r,i),o=this.sender.send(a).then(function(t){n.apiClient.setSessionKey(t.sbcall_session_token),n.wsClient.setSessionKey(t.sbcall_session_token);var e=new J_(t.user);return n.user=e}).catch(function(t){throw eb.error("failed to authenticate user ".concat(r)),t});return e&&(o.then(function(t){return e(t)}).catch(function(t){return console.error(t)}),o.catch(function(t){e(null,t)})),o}},{key:"connectWebSocket",value:function(){return this._checkInitialized(),this.wsClient.connect()}},{key:"getCall",value:function(t){return this._checkInitialized(),this.callManager.getCall(t)}},{key:"addListener",value:function(t,e){if(this._checkInitialized(),!e)throw new Gb(Uw,"listener is required");this.callManager.addListener(t,e)}},{key:"removeListener",value:function(t){this._checkInitialized(),this.callManager.removeListener(t)}},{key:"removeAllListeners",value:function(){this._checkInitialized(),this.callManager.removeAllListeners()}},{key:"dial",value:function(t,e,n,r){if(this._checkInitialized(),this._checkAuthed(),!this.user)throw new Error("tried to dial before auth");if(this.user.userId==t)throw new Mb(Ow,"Tried to dial to current user");return this.callManager.dial(t,e,n,r)}},{key:"createDirectCallLogListQuery",value:function(t){return this._checkInitialized(),new Zb(this.user.userId,t,this.sender)}},{key:"deauthenticate",value:function(){this._checkInitialized(),this.callManager&&this.callManager.clear(),this.wsClient&&this.wsClient.disconnect()}},{key:"_checkInitialized",value:function(){if(!this.appId)throw new Gb(Vw,"not initialized")}},{key:"_checkAuthed",value:function(){if(!this.user)throw new Gb(qw,"not authenticated")}},{key:"currentUser",get:function(){return this.user}}],[{key:"setLoggerLevel",value:function(t){eb.setLoggerLevel(t)}}]),t}(),Hb=function(){function i(){Og(this,i)}return Lg(i,null,[{key:"init",value:function(t){return(!i.app||i.app.appId!==t)&&(i.app&&i.app.deauthenticate(),(i.app=new Yb).init(t),!0)}},{key:"authenticate",value:function(t,e){var n=t.userId,r=t.accessToken;return i.app.authenticate({userId:n,accessToken:r},e)}},{key:"deauthenticate",value:function(){i.app&&(i.app.deauthenticate(),i.app=null)}},{key:"connectWebSocket",value:function(){return i.app.connectWebSocket()}},{key:"addListener",value:function(t,e){i.app.addListener(t,e)}},{key:"removeListener",value:function(t){i.app.removeListener(t)}},{key:"removeAllListeners",value:function(t){i.app.removeAllListeners(t)}},{key:"dial",value:function(t,e,n,r){return i.app.dial(t,e,n,r)}},{key:"createDirectCallLogListQuery",value:function(t){return i.app.createDirectCallLogListQuery(t)}},{key:"setLoggerLevel",value:function(t){Yb.setLoggerLevel(t)}},{key:"getCall",value:function(t){return i.app.getCall(t)}},{key:"sender",get:function(){return i.app.sender}},{key:"receiver",get:function(){return i.app.receiver}},{key:"callManager",get:function(){return i.app.callManager}},{key:"listeners",get:function(){return i.app.dialListeners}},{key:"sdkVersion",get:function(){return Zw}},{key:"appId",get:function(){return i.app.appId}},{key:"currentUser",get:function(){return i.app.currentUser}}]),i}();return Hb.app=null,Hb});